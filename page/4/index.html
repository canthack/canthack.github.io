<!DOCTYPE html>
<html lang="en-US">
<head>
<meta charset="UTF-8"/>
<title>Can&#039;t Hack, Won&#039;t Hack | Page 4</title>
<link rel="profile" href="//gmpg.org/xfn/11"/>
<link rel="stylesheet" type="text/css" media="all" href="//canthack.org/wp-content/themes/twentyten/style.css"/>
<link rel="alternate" type="application/rss+xml" title="Can&#039;t Hack, Won&#039;t Hack &raquo; Feed" href="//canthack.org/wp-content/plugins/really-static/static/feed/"/>
<link rel="alternate" type="application/rss+xml" title="Can&#039;t Hack, Won&#039;t Hack &raquo; Comments Feed" href="//canthack.org/wp-content/plugins/really-static/static/comments/feed/"/>
<script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"http:\/\/s.w.org\/images\/core\/emoji\/72x72\/","ext":".png","source":{"concatemoji":"http:\/\/canthack.org\/wp-includes\/js\/wp-emoji-release.min.js?ver=4.2.2"}};
			!function(a,b,c){function d(a){var c=b.createElement("canvas"),d=c.getContext&&c.getContext("2d");return d&&d.fillText?(d.textBaseline="top",d.font="600 32px Arial","flag"===a?(d.fillText(String.fromCharCode(55356,56812,55356,56807),0,0),c.toDataURL().length>3e3):(d.fillText(String.fromCharCode(55357,56835),0,0),0!==d.getImageData(16,16,1,1).data[0])):!1}function e(a){var c=b.createElement("script");c.src=a,c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var f,g;c.supports={simple:d("simple"),flag:d("flag")},c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.simple&&c.supports.flag||(g=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",g,!1),a.addEventListener("load",g,!1)):(a.attachEvent("onload",g),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),f=c.source||{},f.concatemoji?e(f.concatemoji):f.wpemoji&&f.twemoji&&(e(f.twemoji),e(f.wpemoji)))}(window,document,window._wpemojiSettings);
		</script>
<style type="text/css">img.wp-smiley,img.emoji{display:inline!important;border:none!important;box-shadow:none!important;height:1em!important;width:1em!important;margin:0 .07em!important;vertical-align:-0.1em!important;background:none!important;padding:0!important;}</style>
<link rel='stylesheet' id='fancybox-css' href='//canthack.org/wp-content/plugins/fancyboxify/fancybox/fancybox.css?ver=1.3.4' type='text/css' media='all'/>
<link rel='stylesheet' id='jetpack_css-css' href='//canthack.org/wp-content/plugins/jetpack/css/jetpack.css?ver=3.5.3' type='text/css' media='all'/>
<script type='text/javascript' src='//canthack.org/wp-includes/js/jquery/jquery.js?ver=1.11.2'></script>
<script type='text/javascript' src='//canthack.org/wp-includes/js/jquery/jquery-migrate.min.js?ver=1.2.1'></script>
<script type='text/javascript' src='//canthack.org/wp-content/plugins/fancyboxify/fancybox/jquery.fancybox.pack.js?ver=1.3.4'></script>
<script type='text/javascript' src='//canthack.org/wp-content/plugins/fancyboxify/fancybox/jquery.easing.pack.js?ver=1.3'></script>
<script type='text/javascript' src='//canthack.org/wp-content/plugins/fancyboxify/fancybox/jquery.mousewheel.pack.js?ver=3.0.4'></script>
<meta name="generator" content="WordPress 4.2.2"/>
<script type="text/javascript">
	jQuery(document).ready(function($){
		var imglinks = $('a[href$=".jpg"], a[href$=".jpeg"], a[href$=".png"], a[href$=".gif"], a[href$=".JPG"], a[href$=".JPEG"], a[href$=".PNG"], a[href$=".GIF"]');

		imglinks.each(function(){ 
			if ( $(this).attr('rel').indexOf("fancybox") != -1 ) {
				$(this).fancybox({
					'transitionIn'	:	'none',
					'transitionOut'	:	'none',
					'titlePosition'	:	'over',
					'titleFormat'	:	function(title, currentArray, currentIndex, currentOpts){
									return '<span id="fancybox-title-over">(' + (currentIndex + 1) + ' / ' + currentArray.length + (title.length ? ')&nbsp;&nbsp;' + title : ')') + '</span>';
								},
					'title'		:	$(this).find("img").first().attr("title")	// Extract title from the first <img> element within the <a>
				});
			}
		});
	});
</script><meta name="really-static looptest" content="testtesttest"/>
 
<meta property="og:type" content="website"/>
<meta property="og:title" content="Can&#039;t Hack, Won&#039;t Hack"/>
<meta property="og:url" content="http://canthack.org/wp-content/plugins/really-static/static/"/>
<meta property="og:site_name" content="Can&#039;t Hack, Won&#039;t Hack"/>
<meta property="og:image" content="https://s0.wp.com/i/blank.jpg"/>
<meta property="og:locale" content="en_US"/>
<style type="text/css" id="syntaxhighlighteranchor"></style>
</head>
<body class="home blog paged paged-4">
<div id="wrapper" class="hfeed">
<div id="header">
<div id="masthead">
<div id="branding" role="banner">
<h1 id="site-title">
<span>
<a href="http://canthack.org/wp-content/plugins/really-static/static/" title="Can&#039;t Hack, Won&#039;t Hack" rel="home">Can&#039;t Hack, Won&#039;t Hack</a>
</span>
</h1>
<div id="site-description"></div>
<img src="//canthack.org/uploads/sltrain.jpg" width="940" height="198" alt=""/>
</div> 
<div id="access" role="navigation">
<div class="skip-link screen-reader-text"><a href="#content" title="Skip to content">Skip to content</a></div>
<div class="menu"><ul><li><a href="http://canthack.org/wp-content/plugins/really-static/static/">Home</a></li><li class="page_item page-item-2"><a href="http://canthack.org/wp-content/plugins/really-static/static/about/">About</a></li><li class="page_item page-item-106"><a href="http://canthack.org/wp-content/plugins/really-static/static/future/">Future</a></li><li class="page_item page-item-247"><a href="http://canthack.org/wp-content/plugins/really-static/static/rules/">Rules</a></li></ul></div>
</div> 
</div> 
</div> 
<div id="main">
<div id="container">
<div id="content" role="main">
<div id="nav-above" class="navigation">
<div class="nav-previous"><a href="http://canthack.org/wp-content/plugins/really-static/static/page/5/index.html"><span class="meta-nav">&larr;</span> Older posts</a></div>
<div class="nav-next"><a href="http://canthack.org/wp-content/plugins/really-static/static/page/3/index.html">Newer posts <span class="meta-nav">&rarr;</span></a></div>
</div> 
<div id="post-463" class="post-463 post type-post status-publish format-standard hentry category-uncategorized">
<h2 class="entry-title"><a href="http://canthack.org/wp-content/plugins/really-static/static/2011/01/hello-again-world/" rel="bookmark">Hello (again), World!</a></h2>
<div class="entry-meta">
<span class="meta-prep meta-prep-author">Posted on</span> <a href="http://canthack.org/wp-content/plugins/really-static/static/2011/01/hello-again-world/" title="16:04" rel="bookmark"><span class="entry-date">January 22, 2011</span></a> <span class="meta-sep">by</span> <span class="author vcard"><a class="url fn n" href="http://canthack.org/wp-content/plugins/really-static/static/author/omer/" title="View all posts by Omer">Omer</a></span> </div> 
<div class="entry-content">
<p>In case you haven&#8217;t noticed we have a new domain! While our previous address was pretty neat it confused a lot of people so hopefully this new, simpler one would make life easier for everyone.</p>
<p>There are a <a href="http://codex.wordpress.org/Changing_The_Site_URL">lot</a> <a href="http://www.mydigitallife.info/2007/10/01/how-to-move-wordpress-blog-to-new-domain-or-location/">of</a> <a href="http://yoast.com/move-wordpress-blog-domain-10-steps/">articles</a> and a variety of methods to do this, here is what I did to move our old blog into its shiny new domain.</p>
<h2>Moving WordPress to a New Domain</h2>
<p><a title="truck by jack satta (fnb), on Flickr" href="http://www.flickr.com/photos/footnoteblog/211077423/"><img src="//farm1.static.flickr.com/97/211077423_313fdbee24.jpg" alt="truck" width="500" height="375"/></a></p>
<p style="text-align: center;"><span style="color: #999999;">Photo: (cc) Jack Satta / Flickr</span></p>
<ul>
<li>Before you start, <strong>backup your files and database!</strong> Moving files is a relatively safe operation but there will be some SQL trickery going on so a database backup is a must.</li>
<li>Log in to admin panel and go to Settings -&gt; General</li>
<li>Change the <em>WordPress address</em> and <em>Site address</em> to point to your new domain. After you save these changes you probably will get a 404 as we haven&#8217;t moved the files yet so <span style="text-decoration: underline;">don&#8217;t panic</span>.</li>
<li>Move all your files to the new document root.</li>
<li>Log in to your admin panel at the new address: http://&lt;new_domain&gt;/wp-admin</li>
<li>Because your URL is pretty much hardcoded everywhere in the WordPress database you need to do replace those instances with your new one. To do that install the <a href="http://wordpress.org/extend/plugins/search-and-replace/">Search and Replace plugin</a> and do something along the lines of this:<br/>
<a href="http://canthack.org/wp-content/plugins/really-static/static/uploads/searchnreplace.png" rel="fancybox-463"><img class="aligncenter size-full wp-image-468" title="searchnreplace" src="//canthack.org/uploads/searchnreplace.png" alt="" width="943" height="654"/></a></li>
<li>???</li>
<li>PROFIT!</li>
</ul>
<p>That&#8217;s pretty much it as far as moving WordPress goes. To preserve existing links to the old address I&#8217;ve placed the following .htaccess file in the old vhost&#8217;s docroot. It should permanently redirect (301) all the links to the new domain.</p>
<pre class="brush: plain; title: ; notranslate" title="">
RewriteEngine On
RewriteCond %{HTTP_HOST} ^.*canthack\.sdfsdfs\.com$ [NC]
RewriteRule ^(.*)$ http://canthack.org/$1 [R=301,L]
</pre>
<p>That&#8217;s all folks, do let us know if you spot anything out of the ordinary.</p>
</div> 
<div class="entry-utility">
<span class="cat-links">
<span class="entry-utility-prep entry-utility-prep-cat-links">Posted in</span> <a href="http://canthack.org/wp-content/plugins/really-static/static/category/uncategorized/" rel="category tag">Uncategorized</a> </span>
<span class="meta-sep">|</span>
<span class="comments-link"><a href="http://canthack.org/wp-content/plugins/really-static/static/2011/01/hello-again-world/#respond">Leave a comment</a></span>
</div> 
</div> 
<div id="post-443" class="post-443 post type-post status-publish format-standard hentry category-crafting">
<h2 class="entry-title"><a href="http://canthack.org/wp-content/plugins/really-static/static/2011/01/ugly-christmas-jumper-follow-up/" rel="bookmark">Ugly Christmas Jumper: follow-up</a></h2>
<div class="entry-meta">
<span class="meta-prep meta-prep-author">Posted on</span> <a href="http://canthack.org/wp-content/plugins/really-static/static/2011/01/ugly-christmas-jumper-follow-up/" title="11:54" rel="bookmark"><span class="entry-date">January 22, 2011</span></a> <span class="meta-sep">by</span> <span class="author vcard"><a class="url fn n" href="http://canthack.org/wp-content/plugins/really-static/static/author/han/" title="View all posts by Han">Han</a></span> </div> 
<div class="entry-content">
<div id="attachment_444" style="width: 310px" class="wp-caption alignright"><a rel="lightbox[ucgf]" href="http://canthack.org/wp-content/plugins/really-static/static/uploads/xmas-jumper.jpg" rel="fancybox-443"><img class="size-medium wp-image-444" title="xmas-jumper" src="//canthack.org/uploads/xmas-jumper-300x199.jpg" alt="Christmassy jumpers" width="300" height="199"/></a><p class="wp-caption-text">Competition rivals</p></div>
<p>So the day came for the <a title="Christmas jumper " href="http://wp.me/p1dBQq-13" target="_blank">Christmas jumper </a>to be worn to my work Christmas meal, and it was very well-received by most of my colleagues.  What I had not anticipated was the need to canvass for votes prior to the meal&#8230;and when the votes were counted, I didn&#8217;t place within the top 3! Understandable when you see the skill of some of the competitors&#8217; jumpers!  It was a really fun competition, and Helen was the rightful winner.</p>
<p>After the result was announced, lots of people did come up to me and ask about it, and when I told them the hard work that had gone into it, were amazed that I had soldered things together!!  So, next year, the plan is&#8230; BIGGER, MORE LEDs, and more promotion!!!</p>
</div> 
<div class="entry-utility">
<span class="cat-links">
<span class="entry-utility-prep entry-utility-prep-cat-links">Posted in</span> <a href="http://canthack.org/wp-content/plugins/really-static/static/category/crafting/" rel="category tag">Crafting</a> </span>
<span class="meta-sep">|</span>
<span class="comments-link"><a href="http://canthack.org/wp-content/plugins/really-static/static/2011/01/ugly-christmas-jumper-follow-up/#comments">2 Comments</a></span>
</div> 
</div> 
<div id="post-389" class="post-389 post type-post status-publish format-standard hentry category-arduino category-hardware category-programming">
<h2 class="entry-title"><a href="http://canthack.org/wp-content/plugins/really-static/static/2010/12/interfacing-an-hd44780-lcd-screen-the-begginings-of-the-car-audio-system/" rel="bookmark">Interfacing an HD44780 LCD Screen &#8211; The Beginnings of the Car Audio System</a></h2>
<div class="entry-meta">
<span class="meta-prep meta-prep-author">Posted on</span> <a href="http://canthack.org/wp-content/plugins/really-static/static/2010/12/interfacing-an-hd44780-lcd-screen-the-begginings-of-the-car-audio-system/" title="23:14" rel="bookmark"><span class="entry-date">December 30, 2010</span></a> <span class="meta-sep">by</span> <span class="author vcard"><a class="url fn n" href="http://canthack.org/wp-content/plugins/really-static/static/author/edd/" title="View all posts by Edd">Edd</a></span> </div> 
<div class="entry-content">
<p>Following my previous post <a>Programming the Arduino in Pure C</a>, I have had time over the Xmas holdiays to do some more experimentation.</p>
<p><a rel="lightbox[44780]" href="http://canthack.org/wp-content/plugins/really-static/static/uploads/lcd-avr.jpg" rel="fancybox-389"><img class="wp-image-397" title="HD44780 on AVR" src="//canthack.org/uploads/lcd-avr-225x300.jpg" alt="HD44780 on AVR"/></a></p>
<h2>Setting the Scene</h2>
<p>First lets look at what I am aiming to do. I <strong>hate</strong> taking CDs into my car:</p>
<ul>
<li>They get scratched</li>
<li>Or they get lost</li>
<li>You have to ram them in the small glove compartment</li>
<li>You have to have mad cd-swap-whilst-driving skills</li>
</ul>
<p>You get the idea&#8230; For a long time I wanted to make a digital audio system for my car. It must:</p>
<ul>
<li>Play my existing Vorbis files</li>
<li>Be very low power</li>
<li>Be robust &#8211; Can handle being powered off in use</li>
<li>Boot quickly</li>
<li>Be small</li>
</ul>
<p>I had half-arsedly tried using <a href="http://www.mini-itx.com/">mini-itx </a>and <a href="http://www.soekris.com/">soekris systems</a> and decided that they don&#8217;t check all the boxes.</p>
<p>So I&#8217;m going to try to piece a system together using an AVR microcontroller (and it may take years). Why? Because I want to learn as much as possible about the inner workings of such a system and build it from the ground up &#8212; well, perhaps with my friends <a href="http://www.nongnu.org/avr-libc/">avr-gcc</a> and <a href="http://www.vim.org">vim</a>.</p>
<p>What will I need?</p>
<ul>
<li>Visual output device</li>
<li>Audio output device &#8211; <a href="http://www.sparkfun.com/products/9736">This</a> can decode Vorbis over SPI.</li>
<li>Input device &#8211; A keypad will be fine.</li>
<li>Storage -Probably an SD card (dread writing filesystem driver)</li>
</ul>
<p>So.. step one &#8211; Visual output device&#8230;</p>
<h2>Interfacing an LCD Device</h2>
<p>I&#8217;m going to use a Hitachi HD44780 2&#215;16 LCD module for this. These are cheap, easy to interface and have an awesome old-skool calculator look about them.</p>
<p>Without going into too much detail, it was enough to read the following links to get an idea of how these controllers work:</p>
<ul>
<li><a href="http://www.sparkfun.com/datasheets/LCD/HD44780.pdf">HD44780 Data Sheet</a></li>
<li><a href="http://joshuagalloway.com/lcd.html">Joshua Galloway&#8217;s Breakdown</a></li>
</ul>
<p>My build looked like this:</p>
<div id="attachment_393" style="width: 310px" class="wp-caption alignleft"><a rel="lightbox[44780]" href="http://canthack.org/wp-content/plugins/really-static/static/uploads/aelcd_example_bb.png" rel="fancybox-389"><img class="size-medium wp-image-393" title="aelcd_example_bb" src="//canthack.org/uploads/aelcd_example_bb-300x251.png" alt="Breadboard View" width="300" height="251"/></a><p class="wp-caption-text">Breadboard View</p></div>
<div id="attachment_394" style="width: 259px" class="wp-caption alignright"><a rel="lightbox[44780]" href="http://canthack.org/wp-content/plugins/really-static/static/uploads/aelcd_example_schem.png" rel="fancybox-389"><img class="size-medium wp-image-394" title="Schematic View" src="//canthack.org/uploads/aelcd_example_schem-249x300.png" alt="Schematic View" width="249" height="300"/></a><p class="wp-caption-text">Schematic View</p></div>
<p>I decided to use 4 bit operation, as there are very few pins on the AVR, so we need to save as many as we can. This also leads us onto another important issue.</p>
<p>I am using 4 pins of PORTB for the LCD data bus. In the beginning I would use an 8 bit variable to accumulate the data value; by this i mean, zero PORTB and use bitwise OR to set bits. This works&#8230;</p>
<p>Until you want to use the other pins of PORTB for something else. By zeroing them, you will ruin whatever their purpose was. The solution? We have to read out the state of the port first and leave the pins we are not concerned about alone. The following C snippet may help understanding:</p>
<pre class="brush: cpp; title: ; notranslate" title="">
uint8_t data;

/* get original value of PORTB */
data = PORTB;

/* zero the 4 pins we are going to use for the LCD data bus */
data &amp;amp;= 0xf0;

/* Set the 4 pins to whatever we want */
data |= some4bit_value;

/* write back to the port */
PORTB = data;
</pre>
<p>Another caveat is that the Arduino bootloader initialisation process interferes with the LCD controller configuration, meaning that the LCD sometimes fails to initialise. As a workaround, I just wired the LCD logic power up to an output pin of the AVR and manually powercycled the LCD right after the program begins executing. Annoying because I lose another pin.</p>
<h2>Free Code</h2>
<p>Once I had basic operation working, I started making the code suitably generic, for anyone to use. You can use any ports and pins you like, just so long as:</p>
<ul>
<li>All of the data bus pins are next to each other on the same port.</li>
<li>All of the control bus pins are next to each other on the same port.</li>
</ul>
<p>Unfortunately you wont be able to put both the data bus and the control bus on the same port. Timing is also customisable.</p>
<p>The code is available <a href="http://theunixzoo.co.uk/wiki/doku.php?id=edd:eavr">here</a> and is free and open under the ISC license. Here is an example of how to use the library:</p>
<pre class="brush: cpp; title: ; notranslate" title="">
#include
#include
#include 

#include &quot;ealcd.h&quot;

/*
 * We will do a fresh reset of the lcd power, so that the arduino
 * initialisation will not screw up the lcd configuration
 */
#define LCD_P_POWER             (1 &amp;lt;&amp;lt; 3)
#define LCD_POWER_PORT          PORTB

void
demo_title()
{
        char                    rev[20] = &quot;$Revision: 11 $&quot;, *c;

        /* clear screen and start at far left */
        ealcd_display_ctrl(1, 1, 1);
        ealcd_home();
        ealcd_clear();

        ealcd_set_ddram_addr(4);
        ealcd_put_string(&quot;EAVR LCD&quot;);

        ealcd_set_ddram_addr(67);
        ealcd_put_string(&quot;Version&quot;);
        for (c = rev; *c != ':'; c ++);
        for (; *c != '$'; c ++)
                ealcd_put_char(*c);

        _delay_ms(2000);
}
int
main(void)
{
        /* you still have to do data dirctions manually */
        DDRC = 0b00001111;
        DDRB = 0b00001111;

        /* power cycle lcd */
        LCD_POWER_PORT = LCD_POWER_PORT &amp;amp; (~LCD_P_POWER);
        _delay_ms(1);
        LCD_POWER_PORT = LCD_POWER_PORT | LCD_P_POWER;

        /* set up lcd */
        ealcd_init();

        /* set number of lines and font */
        ealcd_function_set(2, 0);

        /* cursor on, blink, font 1 */
        ealcd_display_ctrl(1, 1, 1);

        while(1)
                demo_title();

        return (0);
}
</pre>
<p><object classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" width="400" height="300" codebase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,40,0"><param name="data" value="http://www.flickr.com/apps/video/stewart.swf?v=71377"/><param name="flashvars" value="intl_lang=en-us&amp;photo_secret=13b077c67b&amp;photo_id=5304739294"/><param name="bgcolor" value="#000000"/><param name="allowFullScreen" value="true"/><param name="src" value="http://www.flickr.com/apps/video/stewart.swf?v=71377"/><param name="allowfullscreen" value="true"/><embed type="application/x-shockwave-flash" width="400" height="300" src="http://www.flickr.com/apps/video/stewart.swf?v=71377" allowfullscreen="true" bgcolor="#000000" flashvars="intl_lang=en-us&amp;photo_secret=13b077c67b&amp;photo_id=5304739294" data="http://www.flickr.com/apps/video/stewart.swf?v=71377"></embed></object></p>
</div> 
<div class="entry-utility">
<span class="cat-links">
<span class="entry-utility-prep entry-utility-prep-cat-links">Posted in</span> <a href="http://canthack.org/wp-content/plugins/really-static/static/category/hardware/arduino/" rel="category tag">Arduino</a>, <a href="http://canthack.org/wp-content/plugins/really-static/static/category/hardware/" rel="category tag">Hardware</a>, <a href="http://canthack.org/wp-content/plugins/really-static/static/category/programming/" rel="category tag">Programming</a> </span>
<span class="meta-sep">|</span>
<span class="comments-link"><a href="http://canthack.org/wp-content/plugins/really-static/static/2010/12/interfacing-an-hd44780-lcd-screen-the-begginings-of-the-car-audio-system/#respond">Leave a comment</a></span>
</div> 
</div> 
<div id="post-249" class="post-249 post type-post status-publish format-standard hentry category-programming">
<h2 class="entry-title"><a href="http://canthack.org/wp-content/plugins/really-static/static/2010/12/basic-template-for-multithread-client-server-gui/" rel="bookmark">Basic template for multithread client-server GUI</a></h2>
<div class="entry-meta">
<span class="meta-prep meta-prep-author">Posted on</span> <a href="http://canthack.org/wp-content/plugins/really-static/static/2010/12/basic-template-for-multithread-client-server-gui/" title="12:29" rel="bookmark"><span class="entry-date">December 26, 2010</span></a> <span class="meta-sep">by</span> <span class="author vcard"><a class="url fn n" href="http://canthack.org/wp-content/plugins/really-static/static/author/sav/" title="View all posts by Sav">Sav</a></span> </div> 
<div class="entry-content">
<p>Below is included Java source code for a simple GUI that launches a local-hosted server and any number of clients run on separate threads and displays the client-side and server-side output in two text areas, including text sent client to server and vice versa.</p>
<p>It is a simple proof-of-concept application that so far does nothing useful: each thread merely waits a few seconds. But it could be expanded upon to add arbitrary functionality.</p>
<p>Code after the break&#8230;</p>
<p> <a href="http://canthack.org/wp-content/plugins/really-static/static/2010/12/basic-template-for-multithread-client-server-gui/#more-249" class="more-link">Continue reading <span class="meta-nav">&rarr;</span></a></p>
</div> 
<div class="entry-utility">
<span class="cat-links">
<span class="entry-utility-prep entry-utility-prep-cat-links">Posted in</span> <a href="http://canthack.org/wp-content/plugins/really-static/static/category/programming/" rel="category tag">Programming</a> </span>
<span class="meta-sep">|</span>
<span class="comments-link"><a href="http://canthack.org/wp-content/plugins/really-static/static/2010/12/basic-template-for-multithread-client-server-gui/#respond">Leave a comment</a></span>
</div> 
</div> 
<div id="post-331" class="post-331 post type-post status-publish format-standard hentry category-programming">
<h2 class="entry-title"><a href="http://canthack.org/wp-content/plugins/really-static/static/2010/12/the-video-part-3/" rel="bookmark">The Video (part 3)</a></h2>
<div class="entry-meta">
<span class="meta-prep meta-prep-author">Posted on</span> <a href="http://canthack.org/wp-content/plugins/really-static/static/2010/12/the-video-part-3/" title="12:16" rel="bookmark"><span class="entry-date">December 23, 2010</span></a> <span class="meta-sep">by</span> <span class="author vcard"><a class="url fn n" href="http://canthack.org/wp-content/plugins/really-static/static/author/mex/" title="View all posts by Mex">Mex</a></span> </div> 
<div class="entry-content">
<p><a rel="lightbox[v3]" href="http://canthack.org/wp-content/plugins/really-static/static/uploads/000.jpg" rel="fancybox-331"><img src="//canthack.org/uploads/000-150x150.jpg" alt="" title="Fame from vid" width="150" height="150" class="alignright size-thumbnail wp-image-361"/></a>This is the third post in the series, the <a href="http://canthack.org/wp-content/plugins/really-static/static/2010/11/the-video/">first</a> and <a href="http://canthack.org/wp-content/plugins/really-static/static/2010/12/the-video-part2/">second</a> are elsewhere.</p>
<p>In preparation for the next hack night I have been playing around with multiple angle videos.<br/>
I created short set of images using <a href="http://www.lavrsen.dk/foswiki/bin/view/Motion/WebHome">motion</a> with three cameras. I then used a <a href="http://www.python.org/">python</a> script to sew the images together. The script converts a directory listing of files (with time stamps) into a list of lists of filenames to pass into <a href="http://www.imagemagick.org/script/montage.php">montage</a> to make the indervidual images into frames for the video.</p>
<p>The algorithm is rather suboptimal, it just chooses the next lowest lowest image from the list. If any one has any ideas on how to improve this please leave a comment. More details after the break..<br/>
<a href="http://canthack.org/wp-content/plugins/really-static/static/2010/12/the-video-part-3/#more-331" class="more-link">Continue reading <span class="meta-nav">&rarr;</span></a></p>
</div> 
<div class="entry-utility">
<span class="cat-links">
<span class="entry-utility-prep entry-utility-prep-cat-links">Posted in</span> <a href="http://canthack.org/wp-content/plugins/really-static/static/category/programming/" rel="category tag">Programming</a> </span>
<span class="meta-sep">|</span>
<span class="comments-link"><a href="http://canthack.org/wp-content/plugins/really-static/static/2010/12/the-video-part-3/#respond">Leave a comment</a></span>
</div> 
</div> 
<div id="post-253" class="post-253 post type-post status-publish format-standard hentry category-arduino category-hardware category-programming">
<h2 class="entry-title"><a href="http://canthack.org/wp-content/plugins/really-static/static/2010/12/programming-the-arduino-in-pure-c/" rel="bookmark">Programming the Arduino in Pure C.</a></h2>
<div class="entry-meta">
<span class="meta-prep meta-prep-author">Posted on</span> <a href="http://canthack.org/wp-content/plugins/really-static/static/2010/12/programming-the-arduino-in-pure-c/" title="12:39" rel="bookmark"><span class="entry-date">December 16, 2010</span></a> <span class="meta-sep">by</span> <span class="author vcard"><a class="url fn n" href="http://canthack.org/wp-content/plugins/really-static/static/author/edd/" title="View all posts by Edd">Edd</a></span> </div> 
<div class="entry-content">
<p><img src="//canthack.org/uploads/arduino-150x150.jpg" alt="" title="Arduino by Joe Seggiola, on Flickr" width="150" height="150" class="alignright size-thumbnail wp-image-292"/>For hack #2, I started looking at how I could program an Arduino; an affordable hobby development board which uses an Atmega AVR microcontroller. More information <a href="http://www.arduino.cc/">here</a>. We add a twist by not using the Arduino IDE and instead using the old faithful <a href="http://vim.org">text editor</a>.</p>
<h2>Stuff You Need</h2>
<ul>
<li><a href="http://www.arduino.cc/">Arduino</a> &#8211; I was using a <a href="http://www.arduino.cc/en/Main/ArduinoBoardDuemilanove">Duemilanove</a></li>
<li><a href="www.avrfreaks.net/AVRGCC">AVR-GCC</a></li>
<li><a href="http://www.nongnu.org/avrdude/">Avrdude</a></li>
<li>Your favorite text editor</li>
<li>6 x LEDs</li>
<li>6 x 220 Ohm Resistors</li>
<li>A breadboard</li>
<li>Cables</li>
<li>USB cable</li>
<li><a href="http://www.amazon.co.uk/C-Programming-Language-2nd/dp/0131103628/ref=sr_1_3?s=books&#038;ie=UTF8&#038;qid=1292502807&#038;sr=1-3">C knowledge</a></li>
</ul>
<p>Total cost, £30 or so. All of the software is free and open.</p>
<h2>Implementation</h2>
<p>On the web you will find the <a href="http://arduino.cc/en/Hacking/PinMapping168">Arduino port map</a>. From here you can figure out how to hook 6 LEDs (with a resisitor each) up to port B pins 0-5. It&#8217;s pretty simple stuff, you don&#8217;t need a schematic. Now we need to make those leds-a-blinken.</p>
<p>What I needed then was a tutorial. Google quickly lead me to <a href="https://www.mainframe.cx/~ckuethe/avr-c-tutorial/">Chris Kuethe&#8217;s Arduino tutorial</a>. As it turns out, ckuethe is the avr-gcc maintainer for OpenBSD &#8212; small world. By following these tutorials, you can easily get up to speed. Half an hour later and I had a &#8220;Knight Rider Emulator&#8221; using 6 LEDs:</p>
<pre class="brush: cpp; title: ; notranslate" title="">
/* $CSK: lesson1.c,v 1.3 2009/05/17 06:22:44 ckuethe Exp $ */
/*
 * Copyright (c) 2008 Chris Kuethe &lt;<a class="__cf_email__" href="/cdn-cgi/l/email-protection" data-cfemail="ee8d869c879dc0859b8b9a868bae89838f8782c08d8183">[email&#160;protected]</a><script cf-hash='f9e31' type="text/javascript">
/* <![CDATA[ */!function(){try{var t="currentScript"in document?document.currentScript:function(){for(var t=document.getElementsByTagName("script"),e=t.length;e--;)if(t[e].getAttribute("cf-hash"))return t[e]}();if(t&&t.previousSibling){var e,r,n,i,c=t.previousSibling,a=c.getAttribute("data-cfemail");if(a){for(e="",r=parseInt(a.substr(0,2),16),n=2;a.length-n;n+=2)i=parseInt(a.substr(n,2),16)^r,e+=String.fromCharCode(i);e=document.createTextNode(e),c.parentNode.replaceChild(e,c)}}}catch(u){}}();/* ]]> */</script>&gt;
 *
 * Permission to use, copy, modify, and distribute this software 
 * for any purpose with or without fee is hereby granted, 
 * provided that the above copyright notice and this permission
 * notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED &quot;AS IS&quot; AND THE AUTHOR DISCLAIMS ALL 
 * WARRANTIES WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED 
 * WARRANTIES OF MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL 
 * THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT, INDIRECT, OR 
 * CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING
 * FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF 
 * CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * Adapted as Knight Rider LEDs on an Arduino Duemilanove
 * (c) Edd Barrett 2010
 */

#include &lt;avr/io.h&gt;
#include &lt;util/delay.h&gt;

int main (void)
{
	uint8_t		leds = 1;

	/* set PORTB for output*/
	DDRB = 0xFF;

	while(1) {
		for (leds = 1; leds &lt;= (1 &lt;&lt; 5); leds &lt;&lt;= 1) {
			PORTB = leds;
			_delay_ms(200);
		}
		for (leds = (1 &lt;&lt; 4); leds &gt;= 2; leds &gt;&gt;= 1) {
			PORTB = leds;
			_delay_ms(200);
		}
	}

	return 0;
}
</pre>
<h2>Uploading with AvrDude</h2>
<p>But how do we upload the binary onto the storage of the arduino?<br/>
This part I had already figured out the night before and it took me quite some time, partially because I did not know what baud rate the Arduino was expecting. Once I had it figured, I adapted the sample makefile found on the <a href="http://www.arduino.cc/playground/FreeBSD/CLI">arduino wiki</a> &#8212; this one is for BSD make (suffix rules work a little differently to GNU make).</p>
<pre class="brush: plain; title: ; notranslate" title="">
# tools
AVRDUDE=avrdude -F -V
OBJCOPY=avr-objcopy
CC=avr-gcc
RM=rm -f

# parameters
MCU=atmega328
F_CPU=16000000UL
BIN_FORMAT=ihex
PORT=/dev/cuaU0
BAUD=57600
PROTOCOL=arduino
PART=ATMEGA3290
CFLAGS=-Wall -Os -DF_CPU=$(F_CPU) -mmcu=$(MCU)
PROG=addr
SUDO=sudo

.SUFFIXES: .elf .hex

.c.elf:
	$(CC) $(CFLAGS) -o $@ $&lt;

.elf.hex:
	$(OBJCOPY) -O $(BIN_FORMAT) -R .eeprom $&lt; $@

.PHONY: all
all: ${PROG}.hex

${PROG}.hex: ${PROG}.elf

${PROG}.elf: ${PROG}.c

.PHONY: clean
clean:
	$(RM) ${PROG}.elf ${PROG}.hex

.PHONY: upload
upload: ${PROG}.hex
	${SUDO} $(AVRDUDE) -c $(PROTOCOL) -p $(PART) -P $(PORT) \
		-b $(BAUD) -U flash:w:${PROG}.hex
</pre>
<h2>Conclusion</h2>
<p>I was pretty impressed with how easy it really was to program an AVR on OpenBSD. The compiler is familiar &#8211; it&#8217;s just GCC cross targeting, and the editor is familar &#8212; in my case it&#8217;s vim and not a bloated java GUI.</p>
<p>Ofcourse, this just scratches the surface. Expect further hacks later.</p>
<p>Thanks to ckuethe@ for his tutorial.</p>
</div> 
<div class="entry-utility">
<span class="cat-links">
<span class="entry-utility-prep entry-utility-prep-cat-links">Posted in</span> <a href="http://canthack.org/wp-content/plugins/really-static/static/category/hardware/arduino/" rel="category tag">Arduino</a>, <a href="http://canthack.org/wp-content/plugins/really-static/static/category/hardware/" rel="category tag">Hardware</a>, <a href="http://canthack.org/wp-content/plugins/really-static/static/category/programming/" rel="category tag">Programming</a> </span>
<span class="meta-sep">|</span>
<span class="comments-link"><a href="http://canthack.org/wp-content/plugins/really-static/static/2010/12/programming-the-arduino-in-pure-c/#comments">8 Comments</a></span>
</div> 
</div> 
<div id="post-151" class="post-151 post type-post status-publish format-standard hentry category-hardware category-programming">
<h2 class="entry-title"><a href="http://canthack.org/wp-content/plugins/really-static/static/2010/12/lcd-now-playing-screen/" rel="bookmark">LCD Now Playing Screen</a></h2>
<div class="entry-meta">
<span class="meta-prep meta-prep-author">Posted on</span> <a href="http://canthack.org/wp-content/plugins/really-static/static/2010/12/lcd-now-playing-screen/" title="14:08" rel="bookmark"><span class="entry-date">December 13, 2010</span></a> <span class="meta-sep">by</span> <span class="author vcard"><a class="url fn n" href="http://canthack.org/wp-content/plugins/really-static/static/author/tris/" title="View all posts by Tris">Tris</a></span> </div> 
<div class="entry-content">
<p><div id="attachment_152" style="width: 310px" class="wp-caption alignright"><a rel="lightbox[uglyjumper]" href="http://canthack.org/wp-content/plugins/really-static/static/uploads/IMG_2115.jpg" rel="fancybox-151"><img class="size-medium wp-image-152" title="LCD Now Playing" src="//canthack.org/uploads/IMG_2115-300x200.jpg" alt="LCD Now Playing" width="300" height="200"/></a><p class="wp-caption-text">The LCD Now Playing Display</p></div>For Hack Night #2, I wanted to create a &#8220;Now Playing&#8221; LCD display to integrate with the <a title="lpHack Server" href="http://canthack.org/wp-content/plugins/really-static/static/2010/11/lpd-music-hack-how-its-done/" target="_blank">lpHack </a>music server that we worked on at Hack Night #1. The resulting project is another real <em>Can&#8217;t Hack</em> team effort as it builds on and relies upon the music server, the music submission shell script, and the lpHack <a title="lpHack Client" href="http://canthack.org/wp-content/plugins/really-static/static/2010/11/lphack-client-in-lazarus/" target="_blank">Client GUI project</a>.</p>
<p>&nbsp;</p>
<h2>The LCD</h2>
<p>A <a title="PIC18f2431" href="http://ww1.microchip.com/downloads/en/DeviceDoc/39616d.pdf" target="_blank">PIC18F2431</a> was used, with PORTB (8 bits) connected to the input of the <a title="LCD Display" href="http://www.displaybras.com.br/pdf/DAN%20202004A-1.pdf" target="_blank">TS2040-1</a> 80 character alphanumeric LCD device itself. The LCD is running in 8-bit mode, so all the PIC needs to do is send ASCII characters at the correct baud rate. Pins 3,4 and 5 of PORTC are connected to the control pins on the LCD device, and finally pins 6 and 7 of PORTC are connected via a <a title="MAX232" href="http://en.wikipedia.org/wiki/MAX232" target="_blank">MAX232</a> to a serial port (with all relevant capacitors and resistors in place).</p>
<p>An RS232 serial port was used as the communication channel between the PC and the board. The serial port used was a USB to serial converter and appears in this case under <code>/dev/ttyUSB0</code> in Linux.</p>
<h2>Driving the LCD</h2>
<p>The <a title="lpHack Client" href="http://canthack.org/wp-content/plugins/really-static/static/2010/11/lphack-client-in-lazarus/" target="_blank">lpHack Client GUI</a> from Hack Night #1 outputs the play queue into a file <em>/tmp/lpPlaylist.log</em>, so the obvious choice was to run this and create a script to read the first line from this file and send it down the serial port to the LCD board.</p>
<p>This was performed by a Python script using the <code>serial</code> and <code>io</code> imports to facilitate reading from files and writing to serial ports.</p>
<p>At a future Hack Night I plan to hard-wire this circuit onto some veroboard.</p>
<p>For the complete code for all components of the LCD display, check after the break&#8230;</p>
<p> <a href="http://canthack.org/wp-content/plugins/really-static/static/2010/12/lcd-now-playing-screen/#more-151" class="more-link">Continue reading <span class="meta-nav">&rarr;</span></a></p>
</div> 
<div class="entry-utility">
<span class="cat-links">
<span class="entry-utility-prep entry-utility-prep-cat-links">Posted in</span> <a href="http://canthack.org/wp-content/plugins/really-static/static/category/hardware/" rel="category tag">Hardware</a>, <a href="http://canthack.org/wp-content/plugins/really-static/static/category/programming/" rel="category tag">Programming</a> </span>
<span class="meta-sep">|</span>
<span class="comments-link"><a href="http://canthack.org/wp-content/plugins/really-static/static/2010/12/lcd-now-playing-screen/#comments">2 Comments</a></span>
</div> 
</div> 
<div id="post-155" class="post-155 post type-post status-publish format-standard hentry category-hardware">
<h2 class="entry-title"><a href="http://canthack.org/wp-content/plugins/really-static/static/2010/12/webcam-infrared-led-hack/" rel="bookmark">Webcam Infrared LED Hack</a></h2>
<div class="entry-meta">
<span class="meta-prep meta-prep-author">Posted on</span> <a href="http://canthack.org/wp-content/plugins/really-static/static/2010/12/webcam-infrared-led-hack/" title="14:05" rel="bookmark"><span class="entry-date">December 13, 2010</span></a> <span class="meta-sep">by</span> <span class="author vcard"><a class="url fn n" href="http://canthack.org/wp-content/plugins/really-static/static/author/tris/" title="View all posts by Tris">Tris</a></span> </div> 
<div class="entry-content">
<p><div id="attachment_298" style="width: 310px" class="wp-caption alignright"><a rel="attachment wp-att-298" href="http://canthack.org/wp-content/plugins/really-static/static/2010/12/webcam-infrared-led-hack/leds/"><img class="size-medium wp-image-298" title="LEDs" src="//canthack.org/uploads/leds-300x145.jpg" alt="LEDs" width="300" height="145"/></a><p class="wp-caption-text">Infrared LEDs</p></div><br/>
At the <em>Can&#8217;t Hack, Won&#8217;t Hack</em> nights so far, we have had a good number of successful hacks, most of which are documented on this blog.  At Hack Night #2 however, we had one not quite so successful hack &#8211; but why not document the unsuccessful as well as the successful? Especially when you see the results from damaging the image sensor on the webcam!</p>
<p>The original idea was to take a cheapo webcam that has standard, and not very effective, visible light LEDs around it, and simply change them for infrared LEDs in order to create a night vision type camera for setting up with <code>motion</code>, (similar to the setup used to create <a title="The Video" href="http://canthack.org/wp-content/plugins/really-static/static/2010/11/the-video/" target="_blank">The Video</a> at Hack Night #1).</p>
<p>After Omer and me (mainly Omer to be honest!) had finished replacing the LEDs, we noticed very strange images coming back from the camera.</p>
<div id="attachment_156" style="width: 310px" class="wp-caption alignright"><a rel="attachment wp-att-156" href="http://canthack.org/wp-content/plugins/really-static/static/2010/12/webcam-infrared-led-hack/2010-12-12-104714/"><img class="size-medium wp-image-156" title="Broken Webcam" src="//canthack.org/uploads/2010-12-12-104714-300x225.jpg" alt="Broken Webcam" width="300" height="225"/></a><p class="wp-caption-text">The damaged image sensor.</p></div>
<p>It seems the heat of the soldering iron had damaged the sensor on the webcam, so not particularly successful, but worth documenting because of the awesome psychedelic images that the camera now produces!</p>
</div> 
<div class="entry-utility">
<span class="cat-links">
<span class="entry-utility-prep entry-utility-prep-cat-links">Posted in</span> <a href="http://canthack.org/wp-content/plugins/really-static/static/category/hardware/" rel="category tag">Hardware</a> </span>
<span class="meta-sep">|</span>
<span class="comments-link"><a href="http://canthack.org/wp-content/plugins/really-static/static/2010/12/webcam-infrared-led-hack/#respond">Leave a comment</a></span>
</div> 
</div> 
<div id="post-140" class="post-140 post type-post status-publish format-standard hentry category-unix">
<h2 class="entry-title"><a href="http://canthack.org/wp-content/plugins/really-static/static/2010/12/the-video-part2/" rel="bookmark">The Video (part2)</a></h2>
<div class="entry-meta">
<span class="meta-prep meta-prep-author">Posted on</span> <a href="http://canthack.org/wp-content/plugins/really-static/static/2010/12/the-video-part2/" title="13:22" rel="bookmark"><span class="entry-date">December 13, 2010</span></a> <span class="meta-sep">by</span> <span class="author vcard"><a class="url fn n" href="http://canthack.org/wp-content/plugins/really-static/static/author/mex/" title="View all posts by Mex">Mex</a></span> </div> 
<div class="entry-content">
<p><img src="//canthack.org/uploads/webca.jpg" alt="A Webcam" title="Webcam" width="256" height="171" class="alignright size-full wp-image-177"/>So the plan for this weeks hack session was to get an all new video of the hacking this time with multiple points of view! Unfortunately I was not able to get this to work during the actual event. However I did learn number of things about motion and have got it working since.</p>
<h2>Configuring motion for multiple cameras</h2>
<p>When using motion with only one camera, all that is needed it <em>motion.conf</em>. However if you need to use more than one camera you need a config file per camera in addition to motion.conf.<br/>
For example if you have two cameras you might have the files:</p>
<ul>
<li>motion.conf</li>
<li>thread1.conf</li>
<li>thread2.conf</li>
</ul>
<p>and you start each thread off with the thread setting in motion.conf:</p>
<pre lang="bash">thread /etc/motion/thread1.conf
thread /etc/motion/thread2.conf
</pre>
<p>The thread*.conf files only need to contain the setting the are unique to that camera. The contents of my thread1.conf is.</p>
<pre lang="bash">videodevice /dev/video0
target_dir /tmp/motion/1
webcam_port 8082
</pre>
<h2>So why no video?</h2>
<p>As I said earlier I could not get this working at the hack night, even though I worked out all the settings above. I have subsequently solved the issue, and there will be a multi angle video of the next hack night.</p>
<p>On Ubuntu there are a number of sample thread*.conf files. I would recommend not trying to edit the files supplied and just create your own, because the reason I could not get it working was one of the settings set by the sample config.</p>
</div> 
<div class="entry-utility">
<span class="cat-links">
<span class="entry-utility-prep entry-utility-prep-cat-links">Posted in</span> <a href="http://canthack.org/wp-content/plugins/really-static/static/category/unix/" rel="category tag">Unix</a> </span>
<span class="meta-sep">|</span>
<span class="comments-link"><a href="http://canthack.org/wp-content/plugins/really-static/static/2010/12/the-video-part2/#comments">2 Comments</a></span>
</div> 
</div> 
<div id="post-75" class="post-75 post type-post status-publish format-standard hentry category-unix">
<h2 class="entry-title"><a href="http://canthack.org/wp-content/plugins/really-static/static/2010/11/the-video/" rel="bookmark">The Video</a></h2>
<div class="entry-meta">
<span class="meta-prep meta-prep-author">Posted on</span> <a href="http://canthack.org/wp-content/plugins/really-static/static/2010/11/the-video/" title="20:28" rel="bookmark"><span class="entry-date">November 28, 2010</span></a> <span class="meta-sep">by</span> <span class="author vcard"><a class="url fn n" href="http://canthack.org/wp-content/plugins/really-static/static/author/mex/" title="View all posts by Mex">Mex</a></span> </div> 
<div class="entry-content">
<p><a rel="lightbox[vid]" href="http://farm6.static.flickr.com/5126/5211394613_2a1ee06a96_b.jpg" rel="fancybox-75"><img alt="The Vantage Point" src="//farm6.static.flickr.com/5126/5211394613_2a1ee06a96_m.jpg" title="The Vantage Point" class="alignright" width="240" height="180"/></a>For our first hack night we set up a stop motion camera to record the whole event. If you have read the other posts in this blog you may have already seen the video. This is how we did it!</p>
<h2>Install Motion.</h2>
<p>Motion is a webcam motion capture software. It takes pictures when ever it detects motion on the camera.</p>
<pre lang="bash"> sudo apt-get install motion </pre>
<h2>Configuring and starting motion</h2>
<pre lang="bash">vim /etc/motion/motion.conf.</pre>
<p>If you have more than one webcam (like in the case of a laptop with a built in webcam and an external cam you want to use) you need to change the following line to match the device you want to use. You can use cheese or something equivalent at this point to work out which cam is which.</p>
<pre lang="bash">videodevice /dev/vedeo0</pre>
<p>There are lots of other options in this file, but the default worked for us.</p>
<p>edit /etc/default/motion if you want to run motion as a deamon.</p>
<pre lang='bash'>
# set to 'yes' to enable the motion deamon
start_motion_deamon='yes'
</pre>
<p>And start the motion deamon</p>
<pre lang="bash">
service motion start
</pre>
<h2>Compiling the video</h2>
<p>Motion can output video but its default settings are not very hi quality. So I composed the images into a swf using ffmpeg.</p>
<p>First you need to rename the files from motion into a sequence that ffmpeg can use. Run this script in /tmp/motion, or where ever you set the output folder for motion.</p>
<pre lang="bash">
x=1;
for i in *jpg;
do
  counter=$(printf %03d $x);
  ln "$1" /tmp/movie/img"$counter".jpg;
  x=$(($x+1));
done
</pre>
<p>Then do the conversion propper.</p>
<pre lang="bash">
ffmpeg -b 400k -f image2 -i /tmp/movie/img%03d.jpg out.swf
</pre>
<h2> The output </h2>
<p><object classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" width="400" height="300" codebase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,40,0"><param name="allowfullscreen" value="true"/><param name="allowscriptaccess" value="always"/><param name="src" value="http://vimeo.com/moogaloop.swf?clip_id=17237426&amp;server=vimeo.com&amp;show_title=1&amp;show_byline=0&amp;show_portrait=0&amp;color=ffffff&amp;fullscreen=1&amp;autoplay=0&amp;loop=0"/><embed type="application/x-shockwave-flash" width="400" height="300" src="http://vimeo.com/moogaloop.swf?clip_id=17237426&amp;server=vimeo.com&amp;show_title=1&amp;show_byline=0&amp;show_portrait=0&amp;color=ffffff&amp;fullscreen=1&amp;autoplay=0&amp;loop=0" allowscriptaccess="always" allowfullscreen="true"></embed></object></p>
</div> 
<div class="entry-utility">
<span class="cat-links">
<span class="entry-utility-prep entry-utility-prep-cat-links">Posted in</span> <a href="http://canthack.org/wp-content/plugins/really-static/static/category/unix/" rel="category tag">Unix</a> </span>
<span class="meta-sep">|</span>
<span class="comments-link"><a href="http://canthack.org/wp-content/plugins/really-static/static/2010/11/the-video/#respond">Leave a comment</a></span>
</div> 
</div> 
<div id="nav-below" class="navigation">
<div class="nav-previous"><a href="http://canthack.org/wp-content/plugins/really-static/static/page/5/index.html"><span class="meta-nav">&larr;</span> Older posts</a></div>
<div class="nav-next"><a href="http://canthack.org/wp-content/plugins/really-static/static/page/3/index.html">Newer posts <span class="meta-nav">&rarr;</span></a></div>
</div> 
</div> 
</div> 
<div id="primary" class="widget-area" role="complementary">
<ul class="xoxo">
<li id="search-2" class="widget-container widget_search"><form role="search" method="get" id="searchform" class="searchform" action="//canthack.org/wp-content/plugins/really-static/static/">
<div>
<label class="screen-reader-text" for="s">Search for:</label>
<input type="text" value="" name="s" id="s"/>
<input type="submit" id="searchsubmit" value="Search"/>
</div>
</form></li> <li id="recent-posts-2" class="widget-container widget_recent_entries"> <h3 class="widget-title">Recent Posts</h3> <ul>
<li>
<a href="http://canthack.org/wp-content/plugins/really-static/static/2014/04/a-new-mod-for-mega-drive-60hz-colour-correction/">A new mod for Mega Drive 60Hz colour correction</a>
</li>
<li>
<a href="http://canthack.org/wp-content/plugins/really-static/static/2013/06/barcamp-canterbury-2013-round-up/">BarCamp Canterbury 2013 round-up</a>
</li>
<li>
<a href="http://canthack.org/wp-content/plugins/really-static/static/2013/04/pipurr-the-remote-cat-interaction-server/">PiPurr &#8211; The Remote Cat Interaction Server</a>
</li>
<li>
<a href="http://canthack.org/wp-content/plugins/really-static/static/2012/09/introducing-the-sin-edds-ym2612-midi-instrument/">Introducing &#8216;The Sin': Edd&#8217;s YM2612 MIDI Instrument</a>
</li>
<li>
<a href="http://canthack.org/wp-content/plugins/really-static/static/2012/08/oggcamp-12/">OggCamp 12</a>
</li>
</ul>
</li><li id="recent-comments-2" class="widget-container widget_recent_comments"><h3 class="widget-title">Recent Comments</h3><ul id="recentcomments"><li class="recentcomments"><span class="comment-author-link"><a href='https://balau82.wordpress.com/2011/03/29/programming-arduino-uno-in-pure-c/' rel='external nofollow' class='url'>Programming Arduino Uno in pure C | Freedom Embedded</a></span> on <a href="http://canthack.org/wp-content/plugins/really-static/static/2010/12/programming-the-arduino-in-pure-c/#comment-57224/index.html">Programming the Arduino in Pure C.</a></li><li class="recentcomments"><span class="comment-author-link"><a href='http://zeidman.biz/blog/?p=11' rel='external nofollow' class='url'>Building an Arduino Robot using SynthOS | Zeidman Technologies Blog</a></span> on <a href="http://canthack.org/wp-content/plugins/really-static/static/2010/12/programming-the-arduino-in-pure-c/#comment-54358/index.html">Programming the Arduino in Pure C.</a></li><li class="recentcomments"><span class="comment-author-link">black</span> on <a href="http://canthack.org/wp-content/plugins/really-static/static/2014/04/a-new-mod-for-mega-drive-60hz-colour-correction/#comment-45466/index.html">A new mod for Mega Drive 60Hz colour correction</a></li><li class="recentcomments"><span class="comment-author-link">Cami</span> on <a href="http://canthack.org/wp-content/plugins/really-static/static/2014/04/a-new-mod-for-mega-drive-60hz-colour-correction/#comment-44423/index.html">A new mod for Mega Drive 60Hz colour correction</a></li><li class="recentcomments"><span class="comment-author-link"><a href='http://famfest.info' rel='external nofollow' class='url'>Manu</a></span> on <a href="http://canthack.org/wp-content/plugins/really-static/static/2012/09/introducing-the-sin-edds-ym2612-midi-instrument/#comment-39117/index.html">Introducing &#8216;The Sin': Edd&#8217;s YM2612 MIDI Instrument</a></li></ul></li><li id="archives-2" class="widget-container widget_archive"><h3 class="widget-title">Archives</h3> <ul>
<li><a href='http://canthack.org/wp-content/plugins/really-static/static/2014/04/'>April 2014</a></li>
<li><a href='http://canthack.org/wp-content/plugins/really-static/static/2013/06/'>June 2013</a></li>
<li><a href='http://canthack.org/wp-content/plugins/really-static/static/2013/04/'>April 2013</a></li>
<li><a href='http://canthack.org/wp-content/plugins/really-static/static/2012/09/'>September 2012</a></li>
<li><a href='http://canthack.org/wp-content/plugins/really-static/static/2012/08/'>August 2012</a></li>
<li><a href='http://canthack.org/wp-content/plugins/really-static/static/2012/06/'>June 2012</a></li>
<li><a href='http://canthack.org/wp-content/plugins/really-static/static/2012/05/'>May 2012</a></li>
<li><a href='http://canthack.org/wp-content/plugins/really-static/static/2012/04/'>April 2012</a></li>
<li><a href='http://canthack.org/wp-content/plugins/really-static/static/2012/03/'>March 2012</a></li>
<li><a href='http://canthack.org/wp-content/plugins/really-static/static/2011/12/'>December 2011</a></li>
<li><a href='http://canthack.org/wp-content/plugins/really-static/static/2011/11/'>November 2011</a></li>
<li><a href='http://canthack.org/wp-content/plugins/really-static/static/2011/10/'>October 2011</a></li>
<li><a href='http://canthack.org/wp-content/plugins/really-static/static/2011/09/'>September 2011</a></li>
<li><a href='http://canthack.org/wp-content/plugins/really-static/static/2011/07/'>July 2011</a></li>
<li><a href='http://canthack.org/wp-content/plugins/really-static/static/2011/06/'>June 2011</a></li>
<li><a href='http://canthack.org/wp-content/plugins/really-static/static/2011/05/'>May 2011</a></li>
<li><a href='http://canthack.org/wp-content/plugins/really-static/static/2011/04/'>April 2011</a></li>
<li><a href='http://canthack.org/wp-content/plugins/really-static/static/2011/03/'>March 2011</a></li>
<li><a href='http://canthack.org/wp-content/plugins/really-static/static/2011/02/'>February 2011</a></li>
<li><a href='http://canthack.org/wp-content/plugins/really-static/static/2011/01/'>January 2011</a></li>
<li><a href='http://canthack.org/wp-content/plugins/really-static/static/2010/12/'>December 2010</a></li>
<li><a href='http://canthack.org/wp-content/plugins/really-static/static/2010/11/'>November 2010</a></li>
</ul>
</li><li id="categories-2" class="widget-container widget_categories"><h3 class="widget-title">Categories</h3> <ul>
<li class="cat-item cat-item-7"><a href="http://canthack.org/wp-content/plugins/really-static/static/category/hardware/arduino/">Arduino</a>
</li>
<li class="cat-item cat-item-5"><a href="http://canthack.org/wp-content/plugins/really-static/static/category/crafting/">Crafting</a>
</li>
<li class="cat-item cat-item-16"><a href="http://canthack.org/wp-content/plugins/really-static/static/category/events/">Events</a>
</li>
<li class="cat-item cat-item-9"><a href="http://canthack.org/wp-content/plugins/really-static/static/category/gardening/">Gardening</a>
</li>
<li class="cat-item cat-item-6"><a href="http://canthack.org/wp-content/plugins/really-static/static/category/hardware/">Hardware</a>
</li>
<li class="cat-item cat-item-4"><a href="http://canthack.org/wp-content/plugins/really-static/static/category/programming/">Programming</a>
</li>
<li class="cat-item cat-item-10"><a href="http://canthack.org/wp-content/plugins/really-static/static/category/software/">Software</a>
</li>
<li class="cat-item cat-item-1"><a href="http://canthack.org/wp-content/plugins/really-static/static/category/uncategorized/">Uncategorized</a>
</li>
<li class="cat-item cat-item-3"><a href="http://canthack.org/wp-content/plugins/really-static/static/category/unix/">Unix</a>
</li>
</ul>
</li><li id="meta-2" class="widget-container widget_meta"><h3 class="widget-title">Meta</h3> <ul>
<li><a href="http://canthack.org/wp-content/plugins/really-static/static/wp-login.php">Log in</a></li>
<li><a href="http://canthack.org/wp-content/plugins/really-static/static/feed/">Entries <abbr title="Really Simple Syndication">RSS</abbr></a></li>
<li><a href="http://canthack.org/wp-content/plugins/really-static/static/comments/feed/">Comments <abbr title="Really Simple Syndication">RSS</abbr></a></li>
<li><a href="https://wordpress.org/" title="Powered by WordPress, state-of-the-art semantic personal publishing platform.">WordPress.org</a></li> </ul>
</li> </ul>
</div> 
</div> 
<div id="footer" role="contentinfo">
<div id="colophon">
<div id="site-info">
<a href="http://canthack.org/wp-content/plugins/really-static/static/" title="Can&#039;t Hack, Won&#039;t Hack" rel="home">
Can&#039;t Hack, Won&#039;t Hack </a>
</div> 
<div id="site-generator"><a href="http://www.php-welt.net/really-static/">powered by really static WordPress</a></div> 
</div> 
</div> 
</div> 
<div style="display:none">
</div>
<script type='text/javascript' src='//canthack.org/wp-content/plugins/syntaxhighlighter/syntaxhighlighter2/scripts/shCore.js?ver=2.1.364'></script>
<script type='text/javascript' src='//canthack.org/wp-content/plugins/syntaxhighlighter/syntaxhighlighter2/scripts/shBrushPlain.js?ver=2.1.364'></script>
<script type='text/javascript' src='//canthack.org/wp-content/plugins/syntaxhighlighter/syntaxhighlighter2/scripts/shBrushCpp.js?ver=2.1.364'></script>
<script type='text/javascript'>
	(function(){
		var corecss = document.createElement('link');
		var themecss = document.createElement('link');
		var corecssurl = "http://canthack.org/wp-content/plugins/syntaxhighlighter/syntaxhighlighter2/styles/shCore.css?ver=2.1.364";
		if ( corecss.setAttribute ) {
				corecss.setAttribute( "rel", "stylesheet" );
				corecss.setAttribute( "type", "text/css" );
				corecss.setAttribute( "href", corecssurl );
		} else {
				corecss.rel = "stylesheet";
				corecss.href = corecssurl;
		}
		document.getElementsByTagName("head")[0].insertBefore( corecss, document.getElementById("syntaxhighlighteranchor") );
		var themecssurl = "http://canthack.org/wp-content/plugins/syntaxhighlighter/syntaxhighlighter2/styles/shThemeEclipse.css?ver=2.1.364";
		if ( themecss.setAttribute ) {
				themecss.setAttribute( "rel", "stylesheet" );
				themecss.setAttribute( "type", "text/css" );
				themecss.setAttribute( "href", themecssurl );
		} else {
				themecss.rel = "stylesheet";
				themecss.href = themecssurl;
		}
		//document.getElementById("syntaxhighlighteranchor").appendChild(themecss);
		document.getElementsByTagName("head")[0].insertBefore( themecss, document.getElementById("syntaxhighlighteranchor") );
	})();
	SyntaxHighlighter.config.clipboardSwf = 'http://canthack.org/wp-content/plugins/syntaxhighlighter/syntaxhighlighter2/scripts/clipboard.swf';
	SyntaxHighlighter.config.strings.expandSource = 'show source';
	SyntaxHighlighter.config.strings.viewSource = 'view source';
	SyntaxHighlighter.config.strings.copyToClipboard = 'copy to clipboard';
	SyntaxHighlighter.config.strings.copyToClipboardConfirmation = 'The code is in your clipboard now';
	SyntaxHighlighter.config.strings.print = 'print';
	SyntaxHighlighter.config.strings.help = '?';
	SyntaxHighlighter.config.strings.alert = 'SyntaxHighlighter\n\n';
	SyntaxHighlighter.config.strings.noBrush = 'Can\'t find brush for: ';
	SyntaxHighlighter.config.strings.brushNotHtmlScript = 'Brush wasn\'t configured for html-script option: ';
	SyntaxHighlighter.defaults['pad-line-numbers'] = true;
	SyntaxHighlighter.all();
</script>
<script type='text/javascript' src='//s0.wp.com/wp-content/js/devicepx-jetpack.js?ver=201521'></script>
<script type='text/javascript' src='//s.gravatar.com/js/gprofiles.js?ver=2015Mayaa'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var WPGroHo = {"my_hash":""};
/* ]]> */
</script>
<script type='text/javascript' src='//canthack.org/wp-content/plugins/jetpack/modules/wpgroho.js?ver=4.2.2'></script>
<script type='text/javascript' src='//stats.wp.com/e-201521.js' async defer></script>
<script type='text/javascript'>
	_stq = window._stq || [];
	_stq.push([ 'view', {v:'ext',j:'1:3.5.3',blog:'21421473',post:'0',tz:'0',srv:'canthack.org'} ]);
	_stq.push([ 'clickTrackerInit', '21421473', '0' ]);
</script>
</body>
</html>
