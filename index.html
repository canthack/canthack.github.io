<!DOCTYPE html>
<html lang="en-US">
<head>
<meta charset="UTF-8"/>
<title>Can&#039;t Hack, Won&#039;t Hack</title>
<link rel="profile" href="//gmpg.org/xfn/11"/>
<link rel="stylesheet" type="text/css" media="all" href="/style.css"/>
<link rel="alternate" type="application/rss+xml" title="Can&#039;t Hack, Won&#039;t Hack &raquo; Feed" href="//canthack.org/wp-content/plugins/really-static/static/feed/"/>
<link rel="alternate" type="application/rss+xml" title="Can&#039;t Hack, Won&#039;t Hack &raquo; Comments Feed" href="//canthack.org/wp-content/plugins/really-static/static/comments/feed/"/>
<script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"http:\/\/s.w.org\/images\/core\/emoji\/72x72\/","ext":".png","source":{"concatemoji":"http:\/\/canthack.org\/wp-includes\/js\/wp-emoji-release.min.js?ver=4.2.2"}};
			!function(a,b,c){function d(a){var c=b.createElement("canvas"),d=c.getContext&&c.getContext("2d");return d&&d.fillText?(d.textBaseline="top",d.font="600 32px Arial","flag"===a?(d.fillText(String.fromCharCode(55356,56812,55356,56807),0,0),c.toDataURL().length>3e3):(d.fillText(String.fromCharCode(55357,56835),0,0),0!==d.getImageData(16,16,1,1).data[0])):!1}function e(a){var c=b.createElement("script");c.src=a,c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var f,g;c.supports={simple:d("simple"),flag:d("flag")},c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.simple&&c.supports.flag||(g=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",g,!1),a.addEventListener("load",g,!1)):(a.attachEvent("onload",g),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),f=c.source||{},f.concatemoji?e(f.concatemoji):f.wpemoji&&f.twemoji&&(e(f.twemoji),e(f.wpemoji)))}(window,document,window._wpemojiSettings);
		</script>
<style type="text/css">img.wp-smiley,img.emoji{display:inline!important;border:none!important;box-shadow:none!important;height:1em!important;width:1em!important;margin:0 .07em!important;vertical-align:-0.1em!important;background:none!important;padding:0!important;}</style>
<link rel='stylesheet' id='fancybox-css' href='//canthack.org/wp-content/plugins/fancyboxify/fancybox/fancybox.css?ver=1.3.4' type='text/css' media='all'/>
<link rel='stylesheet' id='jetpack_css-css' href='//canthack.org/wp-content/plugins/jetpack/css/jetpack.css?ver=3.5.3' type='text/css' media='all'/>
<script type='text/javascript' src='//canthack.org/wp-includes/js/jquery/jquery.js?ver=1.11.2'></script>
<script type='text/javascript' src='//canthack.org/wp-includes/js/jquery/jquery-migrate.min.js?ver=1.2.1'></script>
<script type='text/javascript' src='//canthack.org/wp-content/plugins/fancyboxify/fancybox/jquery.fancybox.pack.js?ver=1.3.4'></script>
<script type='text/javascript' src='//canthack.org/wp-content/plugins/fancyboxify/fancybox/jquery.easing.pack.js?ver=1.3'></script>
<script type='text/javascript' src='//canthack.org/wp-content/plugins/fancyboxify/fancybox/jquery.mousewheel.pack.js?ver=3.0.4'></script>
<meta name="generator" content="WordPress 4.2.2"/>
<script type="text/javascript">
	jQuery(document).ready(function($){
		var imglinks = $('a[href$=".jpg"], a[href$=".jpeg"], a[href$=".png"], a[href$=".gif"], a[href$=".JPG"], a[href$=".JPEG"], a[href$=".PNG"], a[href$=".GIF"]');

		imglinks.each(function(){ 
			if ( $(this).attr('rel').indexOf("fancybox") != -1 ) {
				$(this).fancybox({
					'transitionIn'	:	'none',
					'transitionOut'	:	'none',
					'titlePosition'	:	'over',
					'titleFormat'	:	function(title, currentArray, currentIndex, currentOpts){
									return '<span id="fancybox-title-over">(' + (currentIndex + 1) + ' / ' + currentArray.length + (title.length ? ')&nbsp;&nbsp;' + title : ')') + '</span>';
								},
					'title'		:	$(this).find("img").first().attr("title")	// Extract title from the first <img> element within the <a>
				});
			}
		});
	});
</script><meta name="really-static looptest" content="testtesttest"/>
 
<meta property="og:type" content="website"/>
<meta property="og:title" content="Can&#039;t Hack, Won&#039;t Hack"/>
<meta property="og:url" content="/"/>
<meta property="og:site_name" content="Can&#039;t Hack, Won&#039;t Hack"/>
<meta property="og:image" content="https://s0.wp.com/i/blank.jpg"/>
<meta property="og:locale" content="en_US"/>
<style type="text/css" id="syntaxhighlighteranchor"></style>
</head>
<body class="home blog">
<div id="wrapper" class="hfeed">
<div id="header">
<div id="masthead">
<div id="branding" role="banner">
<h1 id="site-title">
<span>
<a href="/" title="Can&#039;t Hack, Won&#039;t Hack" rel="home">Can&#039;t Hack, Won&#039;t Hack</a>
</span>
</h1>
<div id="site-description"></div>
<img src="//canthack.org/uploads/sltrain.jpg" width="940" height="198" alt=""/>
</div> 
<div id="access" role="navigation">
<div class="skip-link screen-reader-text"><a href="#content" title="Skip to content">Skip to content</a></div>
<div class="menu"><ul><li class="current_page_item"><a href="/">Home</a></li><li class="page_item page-item-2"><a href="/about/">About</a></li><li class="page_item page-item-106"><a href="/future/">Future</a></li><li class="page_item page-item-247"><a href="/rules/">Rules</a></li></ul></div>
</div> 
</div> 
</div> 
<div id="main">
<div id="container">
<div id="content" role="main">
<div id="nav-above" class="navigation">
<div class="nav-previous"><a href="/page/2/index.html"><span class="meta-nav">&larr;</span> Older posts</a></div>
<div class="nav-next"></div>
</div> 
<div id="post-1419" class="post-1419 post type-post status-publish format-standard hentry category-uncategorized">
<h2 class="entry-title"><a href="/2014/04/a-new-mod-for-mega-drive-60hz-colour-correction/" rel="bookmark">A new mod for Mega Drive 60Hz colour correction</a></h2>
<div class="entry-meta">
<span class="meta-prep meta-prep-author">Posted on</span> <a href="/2014/04/a-new-mod-for-mega-drive-60hz-colour-correction/" title="03:03" rel="bookmark"><span class="entry-date">April 6, 2014</span></a> <span class="meta-sep">by</span> <span class="author vcard"><a class="url fn n" href="/author/static-void/" title="View all posts by static-void">static-void</a></span> </div> 
<div class="entry-content">
<p>A well known difference between European and US/Japanese Mega Drives is that European models run with a 50Hz display update while US/Japan models get a 60Hz update. This is because US and Japanese TVs use the NTSC video standard at 60Hz, and here in Europe we use PAL at 50Hz.</p>
<p>What this means is that most games actually run slower on European consoles, which sucks if you want to play the games as they were originally intended to be played.</p>
<p>Fortunately for us, some clever clogs discovered that you can actually switch the console from 50Hz to 60Hz by changing an input on one of the chips inside the device from 0V to 5V. You generally want to be able to actually switch between 50 and 60Hz rather than fixing your console as one or the other, because some games were designed for the European consoles and others for the US/Japanese.</p>
<p>Adding a switch is pretty straightforward:</p>
<ol>
<li>Cut the trace that runs just above resistor R73</li>
<li>Solder a wire to the right hand side of the cut trace (white/blue)</li>
<li>Solder wires to the nearby sources of 0V (black) and 5V (red)</li>
<li>Add a switch to give the white/blue wire 0V or 5V</li>
</ol>
<p><div style="width: 413px" class="wp-caption aligncenter"><img class=" " alt="" src="//canthack.org/uploads/4.jpg" width="403" height="269"/><p class="wp-caption-text">Adding a switch to a MD2 to choose between 50 and 60Hz</p></div><br/>
<h2>Welcome to the 60s</h2>
<p>So far so good, we can switch our MD to 60Hz and enjoy the games as they were intended &#8211; huzah! But, as is often the case in life, there&#8217;s a catch. Switch your MD to 60Hz and, unless your TV actually is black and white only, you&#8217;re going to notice that your MD is only sending out a black and white picture. Apparently my great Grandfather used to really swear at his black and white TV when he was watching the snooker, and when I loaded up Sonic and his hair was grey instead of blue I knew exactly how he felt. Shit man, what happened!?</p>
<p>To generate a composite signal for your TV, the Mega Drive takes the RGB signal its video circuitry produces, and passes it to a composite video encoder chip. The encoder chip has a clock input that it uses as the carrier frequency for the colour information in the composite signal it outputs. This colour carrier actually has to be a very precise frequency; for PAL systems it is 4.43361875MHz, while NTSC systems require 3.579545MHz. If the frequency is off by more than a small amount, the TV wont pick up the colour information at all and you get a black and white picture.</p>
<p>To generate this frequency, an NTSC Mega Drive takes its system clock of 53.6931Mhz, and divides it by 15 to get the required 3.57954Mhz signal. A PAL Mega Drive instead has a system clock of 53.203Mhz, which it divides by 12 to get 4.433583Mhz, close enough to the correct carrier frequency for PAL. So here we have the crutch of the problem: when you tell the PAL Mega Drive to run at 60Hz, it thinks it is an NTSC model and sets the clock divider to divide by 15. This gives a carrier frequency of 53.203/15 = 3.546867MHz, which is not a correct colour carrier for NTSC or PAL, so you get a black and white picture.</p>
<h2>More modding</h2>
<p>Well of course, this is also a well known issue. The easiest way to fix it is to buy an RGB cable and connect your MD to your TV with that. However, if you&#8217;re like me, it will itch at you that there&#8217;s a flaw in your system&#8230; or maybe your TV doesnt have an RGB input or something. Whatever the reason, if you want to find out how to fix this properly you fire up the all knowing google and discover there are loads of guides out there for how to fix this, great, we&#8217;re saved!</p>
<p>Wrong. Well, for me anyway. Let me explain. The idea behind the fix is pretty simple, what we need to do is generate the 4.43361875MHz clock signal the video encoder needs, then cut the trace that supplies it with the system generated clock and feed our new signal in instead. However, this is harder than it sounds, because you need to actually generate that clock. Many of the guides available on the net tell you to get a 4 pin crystal oscillator like the one below:</p>
<p><div style="width: 290px" class="wp-caption aligncenter"><img alt="" src="//www.mpja.com/images/19080.jpg" width="280" height="243"/><p class="wp-caption-text">4 pin oscillator</p></div>
<p>These are really neat little devices, you connect them up to ground and 5V, and they have a pin that outputs the frequency written on the top of the can. Now go find one that runs at 4.43361875MHz. Any luck? Didn&#8217;t think so. These bastards are damn near impossible to find, and when you do the price is stupid (£30, WTF?). I guess since no one uses composite video any more, they don&#8217;t make them any more. Well that sucks.</p>
<p><strong>Update: </strong>User fluxcore over on the assembler games forums pointed me to a cheap source of PAL oscillators &#8211; D&#8217;oh! Anyway, this page still describes a fairly cheap way to achieve the same thing. If you want to go the oscillator route though, try here: <a title="aliexpress PAL oscillators" href="http://www.aliexpress.com/item/10PCS-Lot-4-433619M-Crystal-Oscillator-4-433619MHz-13-21-13-21-5-08mm-Square-active/949416078.html">http://www.aliexpress.com/item/10PCS-Lot-4-433619M-Crystal-Oscillator-4-433619MHz-13-21-13-21-5-08mm-Square-active/949416078.html</a></p>
<h2>Oscillator circuits</h2>
<p>The next logical thought is, &#8220;can I make my own oscillator&#8221;, and the answer is, in theory at least, yes, and a few of the guides and many forum posts explain how to do it.</p>
<p>You basically get an actual quartz crystal of the right frequency (which is actually not that easy for PAL), and make a little oscillator circuit with some resistors and capacitors that should generate the right frequency clock signal. Most people use Pierce oscillators, you have to tune them, and they are a bitch. The internet is full of people trying and failing to make these things work. Somehow, through voodoo, luck, or genius, some people have actually made them work, but the gods alone know how because I&#8217;ve tried many times to make a number of different oscillator designs and none of the worked. The problem is that 4.43361875MHz is really very fast, and to tune an oscillator circuit properly you need very small capacitances. So if you make a little circuit running at that speed on breadboard, the parasitic capacitance of the board is going to screw up the tuning. I&#8217;ve tried making them with wires and deadbugging too, I just can&#8217;t make it work.</p>
<h2>Time division</h2>
<p>At this point I basically gave up for a while. I consider myself fairly good at electronics, certainly not bad, and I had failed miserably five or six times to make this work. However, after coming back to it recently (and failing once more) I had an idea. Why mess about with all these impossible arcane analogue circuits when we can handle the problem another way completely &#8211; we know that if we divide the system clock by 12 we get the right frequency. So let&#8217;s make a clock divider instead!</p>
<p>My A level electronics project was based on clock dividers, and they&#8217;re very straightforward to build out of flip flops. Division by 2 is easy, just a single D-type flip flop as follows:</p>
<p><div style="width: 393px" class="wp-caption aligncenter"><img alt="" src="//www.eecs.tufts.edu/~dsculley/tutorial/flopsandcounters/DivideBy2Counter.jpg" width="383" height="213"/><p class="wp-caption-text">Divide by 2 counter</p></div>
<p>From there you need to do division by 6, which is a bit more complex but can be achieved with a Johnson counter:</p>
<p><div id="attachment_1423" style="width: 310px" class="wp-caption aligncenter"><a href="/uploads/JohnsonCounter.png" rel="fancybox-1419"><img class="size-medium wp-image-1423" alt="Mod 6 Johnson counter" src="//canthack.org/uploads/JohnsonCounter-300x157.png" width="300" height="157"/></a><p class="wp-caption-text">Mod 6 Johnson counter</p></div>
<p>And there it is. All that remained was to find some fast enough flip flops. I found the 74ACT175, quad D-types that will run up to 150MHz. A slight shame is that the divide 2 and divide 6 parts of the circuit need separate clock inputs, so two chips are needed even though only 4 D-types are actually used. The circuit itself is really simple:</p>
<p><a href="/uploads/Div12-Circuit.jpg" rel="fancybox-1419"><img class="aligncenter size-large wp-image-1424" alt="Div12 Circuit" src="//canthack.org/uploads/Div12-Circuit-1024x576.jpg" width="640" height="360"/></a></p>
<p>I decided to build it without using any actual breadboard to make it really small. Below are some pictures, I&#8217;m afraid they aren&#8217;t great as I was having trouble getting my camera phone to focus.</p>
<div id='gallery-1' class='gallery galleryid-1419 gallery-columns-3 gallery-size-thumbnail'><dl class='gallery-item'>
<dt class='gallery-icon landscape'>
<a href='/2014/04/a-new-mod-for-mega-drive-60hz-colour-correction/circuit1/'><img width="150" height="150" src="//canthack.org/uploads/circuit1-150x150.jpg" class="attachment-thumbnail" alt=""/></a>
</dt></dl><dl class='gallery-item'>
<dt class='gallery-icon landscape'>
<a href='/2014/04/a-new-mod-for-mega-drive-60hz-colour-correction/circuit2/'><img width="150" height="150" src="//canthack.org/uploads/circuit2-150x150.jpg" class="attachment-thumbnail" alt=""/></a>
</dt></dl><dl class='gallery-item'>
<dt class='gallery-icon landscape'>
<a href='/2014/04/a-new-mod-for-mega-drive-60hz-colour-correction/circuit3/'><img width="150" height="150" src="//canthack.org/uploads/circuit3-150x150.jpg" class="attachment-thumbnail" alt="circuit3"/></a>
</dt></dl><br style="clear: both"/>
</div>
<p>The picture below shows where the signal is fed in to the encoder. You can just see where I&#8217;ve cut the trace, it&#8217;s the middle one of the three I&#8217;ve exposed. Note that I took this capacitor off later, as I realised it wasn&#8217;t at all necessary (it was a remnant from an earlier attempt with an oscillator circuit).</p>
<p><a href="/uploads/encoder-input.jpg" rel="fancybox-1419"><img class="alignleft size-large wp-image-1429" alt="encoder input" src="//canthack.org/uploads/encoder-input-1024x576.jpg" width="640" height="360"/></a></p>
<p>This low quality pic shows where you get the clock source from:</p>
<p style="text-align: center"><a href="/uploads/clock-source.jpg" rel="fancybox-1419"><img class="aligncenter  wp-image-1430" alt="Clock source" src="//canthack.org/uploads/clock-source-300x168.jpg" width="640" height="360"/></a></p>
<p>Here&#8217;s the whole thing just before I put the lid back on:</p>
<p><a href="/uploads/finished.jpg" rel="fancybox-1419"><img class="aligncenter size-large wp-image-1431" alt="Finished mod" src="//canthack.org/uploads/finished-1024x576.jpg" width="640" height="360"/></a></p>
<p>One neat thing about the Mega Drive 2 is that there&#8217;s this hole at the back that is basically ready made for a toggle switch, so I didn&#8217;t have to drill a hole in the case or anything:</p>
<p style="text-align: center"><a href="/uploads/toggle1.jpg" rel="fancybox-1419"><img class="aligncenter  wp-image-1432" alt="Toggle switch" src="//canthack.org/uploads/toggle1-300x168.jpg" width="640" height="360"/></a> <a href="/uploads/toggle2.jpg" rel="fancybox-1419"><img class="aligncenter  wp-image-1433" alt="toggle2" src="//canthack.org/uploads/toggle2-1024x576.jpg" width="640" height="360"/></a></p>
<p style="text-align: left">This should work on the Mega Drive 1 as well. You should also be able to do a similar mod on an NTSC Mega Drive too, but your circuit will need to divide by 15 instead of 12.</p>
<p style="text-align: left">Finally, thanks to all those out there who wrote guides and gave information on forums that helped me figure this out. I hope this in turn can help some other people!</p>
</div> 
<div class="entry-utility">
<span class="cat-links">
<span class="entry-utility-prep entry-utility-prep-cat-links">Posted in</span> <a href="/category/uncategorized/" rel="category tag">Uncategorized</a> </span>
<span class="meta-sep">|</span>
<span class="comments-link"><a href="/2014/04/a-new-mod-for-mega-drive-60hz-colour-correction/#comments">3 Comments</a></span>
</div> 
</div> 
<div id="post-1404" class="post-1404 post type-post status-publish format-standard hentry category-events tag-barcamp tag-canterbury tag-kent tag-unconference">
<h2 class="entry-title"><a href="/2013/06/barcamp-canterbury-2013-round-up/" rel="bookmark">BarCamp Canterbury 2013 round-up</a></h2>
<div class="entry-meta">
<span class="meta-prep meta-prep-author">Posted on</span> <a href="/2013/06/barcamp-canterbury-2013-round-up/" title="13:36" rel="bookmark"><span class="entry-date">June 23, 2013</span></a> <span class="meta-sep">by</span> <span class="author vcard"><a class="url fn n" href="/author/tris/" title="View all posts by Tris">Tris</a></span> </div> 
<div class="entry-content">
<p>A great time was had at BarCamp Canterbury 2013, held at the University of Kent, In Canterbury, on the weekend of 27th and 28th April! Around 100 attendees made it a fantastic event, with a huge range of talks, workshops and discussions. If you&#8217;d like to get a feel for the topics and activities, see our <a href="http:/www.twitter.com/barcampcant">Twitter feed</a>. We have been lucky enough to be featured in some brilliant write-ups, please see below for details&#8230;</p>
<ul>
<li>PiBorg, one of our sponsors, <a href="http://www.piborg.org/barcamp-review">featured a write-up on their blog</a> and <a href="http://youtu.be/hgvpABYbJ8g">captured a video of the event</a>. Check them out for awesome Raspberry Pi add-ons and their brilliant Mecha Mondays series.</li>
<li>The event was featured in Linux Format Magazine issue no. 173. Available in all good newsagents!</li>
<li>Deri, the CEO of Scivisum, another sponsor, wrote <a href="http://www.scivisum.co.uk/blog/barcamp-canterbury-2013-another-great-time#more-922">this blog post</a>.</li>
<li>The <a href="http://www.flickr.com/groups/2188255@N20/pool/with/8698647790/#photo_8698647790">Flickr photo pool is here</a>. Have a look at what we got up to, if you like it then keep an eye out for when next year&#8217;s tickets are available. </li>
<li>Rosa, an attendee, wrote <a href="http://tinyurl.com/ceugdax">this blog post</a>.</li>
<li>Samuel, an attendee, wrote <a href="http://tmblr.co/Z_m-5ukB5elr">this blog post</a>.</li>
</ul>
<p>Thank you to all the attendees to came along, took part in, promoted and wrote about BarCamp Canterbury. Thank you again to our sponsors, without whom BarCamp Canterbury would not be possible. We look forward to seeing you next year!</p>
</div> 
<div class="entry-utility">
<span class="cat-links">
<span class="entry-utility-prep entry-utility-prep-cat-links">Posted in</span> <a href="/category/events/" rel="category tag">Events</a> </span>
<span class="meta-sep">|</span>
<span class="tag-links">
<span class="entry-utility-prep entry-utility-prep-tag-links">Tagged</span> <a href="/tag/barcamp/" rel="tag">BarCamp</a>, <a href="/tag/canterbury/" rel="tag">Canterbury</a>, <a href="/tag/kent/" rel="tag">Kent</a>, <a href="/tag/unconference/" rel="tag">unconference</a> </span>
<span class="meta-sep">|</span>
<span class="comments-link"><a href="/2013/06/barcamp-canterbury-2013-round-up/#respond">Leave a comment</a></span>
</div> 
</div> 
<div id="post-1361" class="post-1361 post type-post status-publish format-standard hentry category-hardware category-programming category-software">
<h2 class="entry-title"><a href="/2013/04/pipurr-the-remote-cat-interaction-server/" rel="bookmark">PiPurr &#8211; The Remote Cat Interaction Server</a></h2>
<div class="entry-meta">
<span class="meta-prep meta-prep-author">Posted on</span> <a href="/2013/04/pipurr-the-remote-cat-interaction-server/" title="09:58" rel="bookmark"><span class="entry-date">April 14, 2013</span></a> <span class="meta-sep">by</span> <span class="author vcard"><a class="url fn n" href="/author/tris/" title="View all posts by Tris">Tris</a></span> </div> 
<div class="entry-content">
<div id="attachment_1381" style="width: 310px" class="wp-caption alignright"><a href="/uploads/pipurr.png" rel="fancybox-1361"><img class="size-medium wp-image-1381" alt="PiPurr Server" src="//canthack.org/uploads/pipurr-300x260.png" width="300" height="260"/></a><p class="wp-caption-text">PiPurr Server</p></div>
<p>All the best hacks and open-source projects come about by scratching personal itches. In fact when asked by friends and acquaintances &#8220;<em>How do I start with coding &#8211; what should I write?</em>&#8220;, that is my usual answer &#8211; &#8220;<em>Find something you don&#8217;t like or would like to improve and do that</em>&#8220;.</p>
<p>This brings us to the idea of PiPurr, what I like to call the Remote Cat Interaction Server.</p>
<p>Whenever we go on holiday, we never really get to relax, because <a href="/author/han/" target="_blank">Hannah</a> is always asking me things like &#8220;<em>Do you think the cats are OK?</em>&#8220;, &#8220;<em>What do you think the cats are up to?</em>&#8221; etc. PiPurr is the solution to this problem.</p>
<p>The goal is not just to be able to keep an eye on what the cats are doing when away from home, but also to interact and play with them remotely too.</p>
<p>PiPurr is a simple client-server solution. The <a title="PiPurr Server" href="https://github.com/tristan2468/PiPurr-Server" target="_blank">server</a> runs on a Raspberry Pi, for low power consumption and provides the functionality &#8211; capturing images, dispensing treats, making sounds play from the speakers etc, and clients connect to this over HTTP and request those actions.</p>
<div id="attachment_1373" style="width: 178px" class="wp-caption alignleft"><a href="/uploads/newui.png" rel="fancybox-1361"><img class="size-medium wp-image-1373" alt="PiPurr for Android" src="//canthack.org/uploads/newui-168x300.png" width="168" height="300"/></a><p class="wp-caption-text">PiPurr for Android</p></div>
<p>The server is implemented as a small Python web server, using <a title="HTTPServer" href="http://docs.python.org/2/library/basehttpserver.html" target="_blank">HTTPServer</a> that, instead of serving static files from a directory, exposes a small number of URIs that correspond to those actions. This means that all that is required to access it is a browser. A summary of the actions are:</p>
<ul>
<li>/cats.jpeg &#8211; Capture and return a photo from the webcam. Uses <a title="OpenCV" href="http://opencv.org/" target="_blank">OpenCV</a>.</li>
<li>/sound &#8211; Play the sound out the speakers to entice the cats over.</li>
<li>/treat &#8211; Dispense a cat treat &#8211; Currently in development, and will use a <a title="PicoBorg" href="http://piborg.com/picoborg" target="_blank">PicoBorg</a> stepper motor to drive a treat dispenser. Keep a look out for another blog post about this in the future.</li>
</ul>
<p>The decision to use the (rather large and <a href="http://eduardofv.com/read_post/185-Installing-OpenCV-on-the-Raspberry-Pi" target="_blank">fiddly to get working on Raspberry Pi</a>) OpenCV for image capture is down to the fact that in the future I am going to write a cat detector, and possibly other vision-based functionality.</p>
<p>A neat addition to the server is the <a title="LedBorg" href="http://piborg.com/ledborg" target="_blank">LedBorg</a>, which is an RGB LED add-on, set to flash different colours depending on what happens when requests come in. Red for 403s, 500s etc., green for 200 on the image URI and blue for 200 on the sound URI.</p>
<div id="attachment_1374" style="width: 178px" class="wp-caption alignright"><a href="/uploads/share.png" rel="fancybox-1361"><img class="size-medium wp-image-1374 " title="Sharing" alt="Sharing" src="//canthack.org/uploads/share-168x300.png" width="168" height="300"/></a><p class="wp-caption-text">Sharing</p></div>
<p>For ease of use, I also developed an <a title="PiPurr for Android" href="https://github.com/tristan2468/PiPurr-for-Android" target="_blank">Android client</a> that allows easy access to PiPurr whilst out and about. The app also allows for sharing of the captured images over email, Facebook etc.</p>
<p>I will be adding more functionality to the solution as time goes on. Some of the things I have planned are:</p>
<ul>
<li>/ &#8211; Implement a web UI to control it easier with a web browser.</li>
<li>/laser &#8211; Move a laser pointer or similar cat to about with motor control.</li>
<li>/video &#8211; Stream live video.</li>
</ul>
<p>I plan to talk about this project at <a title="BarCamp Canterbury" href="http://barcampcanterbury.com" target="_blank">BarCamp Canterbury</a> on the 27th April 2013 if you would like to find out more, or have any cool ideas.</p>
</div> 
<div class="entry-utility">
<span class="cat-links">
<span class="entry-utility-prep entry-utility-prep-cat-links">Posted in</span> <a href="/category/hardware/" rel="category tag">Hardware</a>, <a href="/category/programming/" rel="category tag">Programming</a>, <a href="/category/software/" rel="category tag">Software</a> </span>
<span class="meta-sep">|</span>
<span class="comments-link"><a href="/2013/04/pipurr-the-remote-cat-interaction-server/#comments">7 Comments</a></span>
</div> 
</div> 
<div id="post-1337" class="post-1337 post type-post status-publish format-standard hentry category-arduino category-hardware">
<h2 class="entry-title"><a href="/2012/09/introducing-the-sin-edds-ym2612-midi-instrument/" rel="bookmark">Introducing &#8216;The Sin': Edd&#8217;s YM2612 MIDI Instrument</a></h2>
<div class="entry-meta">
<span class="meta-prep meta-prep-author">Posted on</span> <a href="/2012/09/introducing-the-sin-edds-ym2612-midi-instrument/" title="14:05" rel="bookmark"><span class="entry-date">September 20, 2012</span></a> <span class="meta-sep">by</span> <span class="author vcard"><a class="url fn n" href="/author/edd/" title="View all posts by Edd">Edd</a></span> </div> 
<div class="entry-content">
<p>[embedplusvideo height=&#8221;507&#8243; width=&#8221;640&#8243; standard=&#8221;http://www.youtube.com/v/_OiOyxsI5n8?fs=1&#8243; vars=&#8221;ytid=_OiOyxsI5n8&amp;width=640&amp;height=507&amp;start=&amp;stop=&amp;rs=w&amp;hd=0&amp;autoplay=0&amp;react=1&amp;chapters=&amp;notes=&#8221; id=&#8221;ep1626&#8243; /]</p>
<p>And because I am a slacker, I forgot to thank matth for the chip holders and Mex for being a Boris. Cheers!</p>
</div> 
<div class="entry-utility">
<span class="cat-links">
<span class="entry-utility-prep entry-utility-prep-cat-links">Posted in</span> <a href="/category/hardware/arduino/" rel="category tag">Arduino</a>, <a href="/category/hardware/" rel="category tag">Hardware</a> </span>
<span class="meta-sep">|</span>
<span class="comments-link"><a href="/2012/09/introducing-the-sin-edds-ym2612-midi-instrument/#comments">5 Comments</a></span>
</div> 
</div> 
<div id="post-1307" class="post-1307 post type-post status-publish format-standard hentry category-events">
<h2 class="entry-title"><a href="/2012/08/oggcamp-12/" rel="bookmark">OggCamp 12</a></h2>
<div class="entry-meta">
<span class="meta-prep meta-prep-author">Posted on</span> <a href="/2012/08/oggcamp-12/" title="10:06" rel="bookmark"><span class="entry-date">August 21, 2012</span></a> <span class="meta-sep">by</span> <span class="author vcard"><a class="url fn n" href="/author/tris/" title="View all posts by Tris">Tris</a></span> </div> 
<div class="entry-content">
<p><a href="/2012/08/oggcamp-12/ogglogo/" rel="attachment wp-att-1317"><img class="alignleft size-full wp-image-1317" title="OggLogo" src="//canthack.org/uploads/ogglogo.png" alt="OggCamp Logo" width="206" height="37"/></a>Here at CantHack, we&#8217;ve always been fans of <a title="BarCamp on Wikipedia" href="http://en.wikipedia.org/wiki/BarCamp" target="_blank">Barcamp</a> type unconferences, and between us we have attended many Barcamps over the years, and have even <a title="BarCamp Canterbury recap." href="/2012/05/barcamp-canterbury-recap/">organised</a> one ourselves.</p>
<p><a title="OggCamp" href="http://oggcamp.org/" target="_blank">OggCamp</a> is a Barcamp-like event that focuses on free and open culture that has just hosted its fourth annual event in Liverpool.</p>
<p>Some of us from CantHack had attended last year&#8217;s event in Farhham, where we delivered talks on <a title="Adventures with Radare2 #1: A Simple Shellcode Analysis" href="/2011/07/adventures-with-radare-1-a-simple-shellcode-analysis/">reverse engineering </a>and <a title="HGD 0.4.1 out now!" href="/2011/07/hgd-0-4-1/">HGD</a>, and this year two of us (Tris and Han) travelled the long journey to Liverpool to once again spend two days meeting, socialising with and learning from a wide cross-section of the geek community.</p>
<div id="attachment_1322" style="width: 210px" class="wp-caption alignleft"><a href="/2012/08/oggcamp-12/rfid/" rel="attachment wp-att-1322"><img class="size-medium wp-image-1322" title="rfid" src="//canthack.org/uploads/rfid-200x300.jpg" alt="RFID" width="200" height="300"/></a><p class="wp-caption-text">RFID Rhythm Generator</p></div>
<p>Han was on the crew for this year&#8217;s event, which meant early starts and lots of helping out, although that did mean that I got chance to wander around finding talks to go to.</p>
<p>There were so many interesting talks on the schedules that it was impossible to see all the talks that I wanted to.</p>
<p>I did get to watch about many different subjects including QR Codes, OggBox (an open hardware Ogg player) to Nanode (an Arduino clone with built in networking and RF communications, more on that in a bit).</p>
<p>I also really enjoyed some of the more light-hearted talks such as <a title="Alex Martindale on Twitter" href="https://twitter.com/alexturgid" target="_blank">Alex Martindale</a>&#8216;s look at error messages over the years (inlcuding a huge screen showing the Sinclair Spectrum start screen &#8211; which brought back many happy memories!), and an interview with Stephen Fry which, although pre-recorded, was very engaging and more interesting than I would have initially thought it would be.</p>
<p>This year&#8217;s OggCamp was also the first to feature an Open Hardware Jam, where we witnessed many awesome hardware hacks like an RFID rhythm generator, DIY retro computers, 3D printing and textile hacking.</p>
<p>I also bought myself the awesome <a title="Nanode" href="http://www.nanode.eu/">Nanode</a> RF, which as mentioned before, is an embedded development platform similar to an Arduino but with integrated Ethernet and an RF transceiver for wireless connectivity to sensor nodes.</p>
<div id="attachment_1316" style="width: 310px" class="wp-caption alignright"><a href="/2012/08/oggcamp-12/nanode/" rel="attachment wp-att-1316"><img class="size-medium wp-image-1316" title="Nanode" src="//canthack.org/uploads/nanode-300x225.jpeg" alt="Nanode" width="300" height="225"/></a><p class="wp-caption-text">Nanode</p></div>
<p>It is sold in kit form so I have all the fun ahead of soldering the components together to make the board. When finished, I plan to hack together some home automation/monitoring with this and a Raspberry Pi. Of course those hacks will also appear here in the near future.</p>
<p>I also took a few photos of the event, which are located on <a title="Flickr" href="http://www.flickr.com/photos/jonnyentropy/sets/72157631162349020/" target="_blank">my Flickr page</a>. It&#8217;s also worth searching Flickr for &#8216;oggcamp&#8217; and &#8216;oggcamp12&#8242; to find more.</p>
<p>Thanks so much to the organisers from <a title="Linux Outlaws" href="http://sixgun.org/linuxoutlaws/">Linux Outlaws</a> and <a title="Ubuntu UK Podcast" href="http://podcast.ubuntu-uk.org/" target="_blank">Ubuntu UK Podcast</a>, and to <a title="Les Pounder" href="http://lespounder.wordpress.com/" target="_blank">Les Pounder</a> for organising the crew! See you all again next year! CantHack will be back!</p>
</div> 
<div class="entry-utility">
<span class="cat-links">
<span class="entry-utility-prep entry-utility-prep-cat-links">Posted in</span> <a href="/category/events/" rel="category tag">Events</a> </span>
<span class="meta-sep">|</span>
<span class="comments-link"><a href="/2012/08/oggcamp-12/#respond">Leave a comment</a></span>
</div> 
</div> 
<div id="post-1242" class="post-1242 post type-post status-publish format-standard hentry category-arduino category-events category-hardware category-programming">
<h2 class="entry-title"><a href="/2012/06/canthack-presents-at-digibury/" rel="bookmark">CantHack presents at Digibury.</a></h2>
<div class="entry-meta">
<span class="meta-prep meta-prep-author">Posted on</span> <a href="/2012/06/canthack-presents-at-digibury/" title="19:09" rel="bookmark"><span class="entry-date">June 15, 2012</span></a> <span class="meta-sep">by</span> <span class="author vcard"><a class="url fn n" href="/author/mex/" title="View all posts by Mex">Mex</a></span> </div> 
<div class="entry-content">
<div id="attachment_1287" style="width: 159px" class="wp-caption alignright"><a href="/uploads/d-deeson-logo2.png" rel="fancybox-1242"><img class="size-full wp-image-1287" title="d-deeson-logo" src="//canthack.org/uploads/d-deeson-logo2.png" alt="" width="149" height="134"/></a><p class="wp-caption-text">Digibury</p></div>
<p>Thanks to everybody who came to Digibury this week, we had a great time and we hope the people who came enjoyed the session. The slides are available below, as well as the light painting pictures you made! I am probably going to reuse the session for <a href="http://tinkersoc.org">TinkerSoc</a>&nbsp;at some point so please leave any feedback you have in the comments with any way I can improve the talk.<br/>
 <br/>
Light Painting photos:<div id='gallery-2' class='gallery galleryid-1242 gallery-columns-3 gallery-size-thumbnail'><dl class='gallery-item'>
<dt class='gallery-icon landscape'>
<a href='/2012/06/canthack-presents-at-digibury/dsc_2315/'><img width="150" height="150" src="//canthack.org/uploads/DSC_2315-150x150.jpg" class="attachment-thumbnail" alt="DSC_2315"/></a>
</dt></dl><dl class='gallery-item'>
<dt class='gallery-icon landscape'>
<a href='/2012/06/canthack-presents-at-digibury/dsc_2314/'><img width="150" height="150" src="//canthack.org/uploads/DSC_2314-150x150.jpg" class="attachment-thumbnail" alt="DSC_2314"/></a>
</dt></dl><dl class='gallery-item'>
<dt class='gallery-icon landscape'>
<a href='/2012/06/canthack-presents-at-digibury/dsc_2313/'><img width="150" height="150" src="//canthack.org/uploads/DSC_2313-150x150.jpg" class="attachment-thumbnail" alt="DSC_2313"/></a>
</dt></dl><br style="clear: both"/><dl class='gallery-item'>
<dt class='gallery-icon landscape'>
<a href='/2012/06/canthack-presents-at-digibury/dsc_2312/'><img width="150" height="150" src="//canthack.org/uploads/DSC_2312-150x150.jpg" class="attachment-thumbnail" alt="DSC_2312"/></a>
</dt></dl><dl class='gallery-item'>
<dt class='gallery-icon landscape'>
<a href='/2012/06/canthack-presents-at-digibury/dsc_2310/'><img width="150" height="150" src="//canthack.org/uploads/DSC_2310-150x150.jpg" class="attachment-thumbnail" alt="DSC_2310"/></a>
</dt></dl><dl class='gallery-item'>
<dt class='gallery-icon landscape'>
<a href='/2012/06/canthack-presents-at-digibury/dsc_2309/'><img width="150" height="150" src="//canthack.org/uploads/DSC_2309-150x150.jpg" class="attachment-thumbnail" alt="DSC_2309"/></a>
</dt></dl><br style="clear: both"/><dl class='gallery-item'>
<dt class='gallery-icon landscape'>
<a href='/2012/06/canthack-presents-at-digibury/dsc_2307/'><img width="150" height="150" src="//canthack.org/uploads/DSC_2307-150x150.jpg" class="attachment-thumbnail" alt="DSC_2307"/></a>
</dt></dl><dl class='gallery-item'>
<dt class='gallery-icon landscape'>
<a href='/2012/06/canthack-presents-at-digibury/dsc_2306/'><img width="150" height="150" src="//canthack.org/uploads/DSC_2306-150x150.jpg" class="attachment-thumbnail" alt="DSC_2306"/></a>
</dt></dl><dl class='gallery-item'>
<dt class='gallery-icon landscape'>
<a href='/2012/06/canthack-presents-at-digibury/dsc_2305/'><img width="150" height="150" src="//canthack.org/uploads/DSC_2305-150x150.jpg" class="attachment-thumbnail" alt="DSC_2305"/></a>
</dt></dl><br style="clear: both"/><dl class='gallery-item'>
<dt class='gallery-icon landscape'>
<a href='/2012/06/canthack-presents-at-digibury/dsc_2304/'><img width="150" height="150" src="//canthack.org/uploads/DSC_2304-150x150.jpg" class="attachment-thumbnail" alt="DSC_2304"/></a>
</dt></dl><dl class='gallery-item'>
<dt class='gallery-icon landscape'>
<a href='/2012/06/canthack-presents-at-digibury/dsc_2303/'><img width="150" height="150" src="//canthack.org/uploads/DSC_2303-150x150.jpg" class="attachment-thumbnail" alt="DSC_2303"/></a>
</dt></dl><dl class='gallery-item'>
<dt class='gallery-icon landscape'>
<a href='/2012/06/canthack-presents-at-digibury/d-deeson-logo-3/'><img width="149" height="134" src="//canthack.org/uploads/d-deeson-logo2.png" class="attachment-thumbnail" alt="Digibury" aria-describedby="gallery-2-1287"/></a>
</dt>
<dd class='wp-caption-text gallery-caption' id='gallery-2-1287'>
Digibury
</dd></dl><br style="clear: both"/>
</div>
</p>
<p>As a bonus, if you use Google Docs and need to draw circuits I have a bunch of symbols avaliable for use under a Creative commons CC BY-SA 3.0 licence <a href="https://docs.google.com/drawings/d/1tH4V_zqeZ3aZEe9aayNFZU6nGMyJfnKfzqG1veulIwc/edit">here!</a></p>
</div>
</div> 
<div class="entry-utility">
<span class="cat-links">
<span class="entry-utility-prep entry-utility-prep-cat-links">Posted in</span> <a href="/category/hardware/arduino/" rel="category tag">Arduino</a>, <a href="/category/events/" rel="category tag">Events</a>, <a href="/category/hardware/" rel="category tag">Hardware</a>, <a href="/category/programming/" rel="category tag">Programming</a> </span>
<span class="meta-sep">|</span>
<span class="comments-link"><a href="/2012/06/canthack-presents-at-digibury/#comments">3 Comments</a></span>
</div> 
</div> 
<div id="post-1228" class="post-1228 post type-post status-publish format-standard hentry category-programming category-software">
<h2 class="entry-title"><a href="/2012/05/hgdc-x-0-5-3/" rel="bookmark">hgdc-x 0.5.3</a></h2>
<div class="entry-meta">
<span class="meta-prep meta-prep-author">Posted on</span> <a href="/2012/05/hgdc-x-0-5-3/" title="08:57" rel="bookmark"><span class="entry-date">May 22, 2012</span></a> <span class="meta-sep">by</span> <span class="author vcard"><a class="url fn n" href="/author/tris/" title="View all posts by Tris">Tris</a></span> </div> 
<div class="entry-content">
<p>I know it&#8217;s been quite a while since the 0.5.3 release of the hgd server, but I finally got around to completing the latest version of hgdc-x, the cross-platform GUI hgd client. It is compatible with any of the 0.5.x versions of the server.</p>
<div id="attachment_1229" style="width: 310px" class="wp-caption alignright"><a href="/2012/05/hgdc-x-0-5-3/hgdcx_mac/" rel="attachment wp-att-1229"><img class="size-medium wp-image-1229" title="hgdc-x 0.5.3" src="//canthack.org/uploads/hgdcx_mac-300x234.png" alt="hgdc-x 0.5.3" width="300" height="234"/></a><p class="wp-caption-text">hgdc-x 0.5.3</p></div>
<p>Changes include numerous bugfixes, a redesigned GUI and a better user experience. There are pre-compiled binary versions for Linux, Windows and Mac (Universal binary for Tiger 10.4 and later).</p>
<p>Get it from <a title="hgdc-x website" href="http://hgdcx.canthack.org" target="_blank">http://hgdcx.canthack.org</a></p>
</div> 
<div class="entry-utility">
<span class="cat-links">
<span class="entry-utility-prep entry-utility-prep-cat-links">Posted in</span> <a href="/category/programming/" rel="category tag">Programming</a>, <a href="/category/software/" rel="category tag">Software</a> </span>
<span class="meta-sep">|</span>
<span class="comments-link"><a href="/2012/05/hgdc-x-0-5-3/#comments">4 Comments</a></span>
</div> 
</div> 
<div id="post-1193" class="post-1193 post type-post status-publish format-standard hentry category-programming">
<h2 class="entry-title"><a href="/2012/05/wolfbot/" rel="bookmark">#WolfBot</a></h2>
<div class="entry-meta">
<span class="meta-prep meta-prep-author">Posted on</span> <a href="/2012/05/wolfbot/" title="09:54" rel="bookmark"><span class="entry-date">May 18, 2012</span></a> <span class="meta-sep">by</span> <span class="author vcard"><a class="url fn n" href="/author/mex/" title="View all posts by Mex">Mex</a></span> </div> 
<div class="entry-content">
<p><a href="/uploads/wolves.jpg" rel="fancybox-1193"><img src="//canthack.org/uploads/wolves-227x300.jpg" alt="" title="wolves" width="227" height="300" class="alignright size-medium wp-image-1205"/></a>I would like to introduce WolfBot, a new <dfn title="Internet Relay Chat">IRC</dfn> bot that moderates a game of Werewolf. </p>
<p>Werewolf is a social game in the ilk of <a href="http://en.wikipedia.org/wiki/Mafia_(party_game)">Mafia</a> and has become very popular at un-conferences such as <a href="http://barcamp.org/">BarCamps</a>. There are many rule variants of Werewolf, but this bot probably most closely matches the rules set out in <a href="http://boardgamegeek.com/boardgame/38159/ultimate-werewolf-ultimate-edition">ultimate werewolf</a>, with some changes to make it fit better to IRC, the voting system is slightly different for example. </p>
<p>WolfBot is based on the popular <a href="http://www.jibble.org/pircbot.php">PircBot</a> Java IRC framework. It is a collabrative project between me, <a href="http://www.twigathy.com/">Twigathy</a>, and a number of other people. The code is avaliable on github (<a href="https://github.com/tpcarlson/Werewolf/network">tpcarlson/Werewolf</a>).</p>
<p>WolfBot is currently playable in <a href="irc://irc.boredicons.com/%23wolfbot">#wolfbot</a> on the <a href="irc://irc.boredicons.com">boredicons irc network</a> and. Use the command &#8220;!join&#8221; to start playing (please note if there is a game in progress you will have to wait for it to finish before you will get voice in the channel).</p>
<p><em>This post is a quick follow up to a talk I gave at <a href="http://www.barcampcanterbury.com/">BarCamp Canterbury</a>, my <a href="https://docs.google.com/presentation/d/1pnGBkSBr3OC8jpYgqtl3JOAdY01jGSvTPI22IrSMOak/edit">original slides are available</a>.</em></p>
</div> 
<div class="entry-utility">
<span class="cat-links">
<span class="entry-utility-prep entry-utility-prep-cat-links">Posted in</span> <a href="/category/programming/" rel="category tag">Programming</a> </span>
<span class="meta-sep">|</span>
<span class="comments-link"><a href="/2012/05/wolfbot/#respond">Leave a comment</a></span>
</div> 
</div> 
<div id="post-1169" class="post-1169 post type-post status-publish format-standard hentry category-events">
<h2 class="entry-title"><a href="/2012/05/barcamp-canterbury-recap/" rel="bookmark">BarCamp Canterbury recap.</a></h2>
<div class="entry-meta">
<span class="meta-prep meta-prep-author">Posted on</span> <a href="/2012/05/barcamp-canterbury-recap/" title="15:55" rel="bookmark"><span class="entry-date">May 8, 2012</span></a> <span class="meta-sep">by</span> <span class="author vcard"><a class="url fn n" href="/author/mex/" title="View all posts by Mex">Mex</a></span> </div> 
<div class="entry-content">
<div id="attachment_1180" style="width: 190px" class="wp-caption alignright"><a href="/uploads/bcc2.jpg" rel="fancybox-1169"><img class="size-full wp-image-1180" title="BarCamp Canterbury 2012" src="//canthack.org/uploads/bcc2.jpg" alt="Barcamp Canterbury Logo" width="180" height="176"/></a><p class="wp-caption-text">BarCamp Canterbury 2012</p></div>
<p>Updates on the blog have been a bit thin and far between recently, but that&#8217;s because a lot of us have been busy organising BarCamp Canterbury. The event was run a couple of weekends ago (Saturday 28th and Sunday 29th of April 2012) and thankfully all our preparation was worth it as the event went without a (noticeable) hitch.</p>
<p>I thought it would be helpful to share what we have learned, for any one else thinking of organising a BarCamp.</p>
<h3>Tickets</h3>
<ul>
<li>Use <a href="http://www.eventbrite.co.uk/">EventBrite</a>, their service is brilliant, and made keeping track of people/tickets sold a piece of cake.</li>
<li>Oversubscribe. We have a 30% no show. If your limit is 100 people you can probably issue 120+ tickets safely.</li>
</ul>
<h3>Food and Drink</h3>
<ul>
<li>Fifty people got through 140 pints of Ale and 40 pints of cider.</li>
<li><a href="http://www2.sainsburys.co.uk/food/delipartyplatter/platters/instore-party-platter-service.htm">Sainsburys do Catering!</a></li>
<li>People get grumpy without coffee.</li>
</ul>
<h3>Sponsorship</h3>
<ul>
<li>Follow up with sponsors. Some companies only replied to second email.</li>
<li>Make it clear what you expect from your sponsors, and what they should expect from you.</li>
<li>Ask for &#8220;stuff&#8221; many companies won&#8217;t give money but they will hand out freebies.</li>
</ul>
<p>I hope this helps you if your thinking of running a BarCamp or similar event yourself. Please leave a comment if you think of anything else that would be helpful.</p>
</div> 
<div class="entry-utility">
<span class="cat-links">
<span class="entry-utility-prep entry-utility-prep-cat-links">Posted in</span> <a href="/category/events/" rel="category tag">Events</a> </span>
<span class="meta-sep">|</span>
<span class="comments-link"><a href="/2012/05/barcamp-canterbury-recap/#respond">Leave a comment</a></span>
</div> 
</div> 
<div id="post-1122" class="post-1122 post type-post status-publish format-standard hentry category-hardware category-programming category-software category-unix">
<h2 class="entry-title"><a href="/2012/04/a-brief-history-of-my-zipit-z2/" rel="bookmark">A brief history of my Zipit Z2</a></h2>
<div class="entry-meta">
<span class="meta-prep meta-prep-author">Posted on</span> <a href="/2012/04/a-brief-history-of-my-zipit-z2/" title="11:50" rel="bookmark"><span class="entry-date">April 7, 2012</span></a> <span class="meta-sep">by</span> <span class="author vcard"><a class="url fn n" href="/author/shaun/" title="View all posts by shaun">shaun</a></span> </div> 
<div class="entry-content">
<p>For a while now I have been playing with the idea of building my version of the perfect alarm clock. My original ideas involved the Arduino and the Arduino Ethernet Shield. This all changed when I was introduced to the Zipit Z2.</p>
<p>Unlike the Arduino, it comes with an integrated keyboard and <del>chair</del> screen. For further hardware specifications <a title="Hardware Specs" href="http://www.mozzwald.com/zipitz2" target="_blank">click here.</a></p>
<p>My investigations of the Z2 led me to Mozzwald&#8217;s site which contains most of what I wanted to know. There are Zipit guides on U-Booting, Ubuntu, etc.</p>
<p>While my Zipit was winging its way from the USA, I started work on my clock application. Using the <a href="www.lazarus.freepascal.org" target="_blank">Lazarus IDE</a> and the <a href="http://www.freepascal.org/" target="_blank">Free Pascal Compiler</a> I created the first draft. Setting up the<a href="http://wiki.lazarus.freepascal.org/Setup_Cross_Compile_For_ARM" target="_blank"> cross compile environment</a> was straight forward and I soon had a binary ready for the Zipit&#8217;s ARM v5 compatible processor.</p>
<p>After a week of anticipation, I was finally introduced to my Zipit at the Rochester Can&#8217;t Hack meet. I started by flashing the Z2 with a U-Boot image I <a title="FlashStock v0.1.2 Jan-27-2012 [with openwrt recoveryos]" href="http://www.mozzwald.com/zipit/stock/Flashstockv0.1.2_openwrt.zip" target="_blank">downloaded</a>. To get the image flashed I booted into the Z2&#8217;s stock OS and selected the reset to defaults option.</p>
<p>Using Mozzwald&#8217;s <a title="z2sid v7 RC1" href="http://zipit.markamber.co/z2sidX_v7_rc1.tar.bz2" target="_blank">z2sidX image</a> I booted into Debian Sid. Following this was a back and forth between the Can&#8217;t Hack group about keyboard layout. Needless to say I was a very happy to see X start and spent a few minutes playing Free Doom.</p>
<p>For the past few days I have been perfecting the sid image I am using, including changes that allow for better integration of my Clock application.</p>
<p>Some notes on my changes:</p>
<p>Installed avahi-daemon openssh-clients nfs-common</p>
<p>For the dbus install (avahi-deamon dependancy) I selected not to overwrite the dbus config file with the package maintainer&#8217;s version. This caused issues with dbus failing to load. To fix this I purged dbus and reinstalled avahi-daemon.</p>
<p>Something I noted was the MAC address used by Debian Sid was not the MAC address printed on a sticker found under the battery. To fix this I edited /etc/network/interfaces.</p>
<p>user@zipit:~$ cat /etc/network/interfaces<br/>
# Used by ifup(8) and ifdown(8). See the interfaces(5) manpage or<br/>
# /usr/share/doc/ifupdown/examples for more information.<br/>
auto wlan0<br/>
iface wlan0 inet dhcp<br/>
hwaddress ether 00:12:34:56:78:ab</p>
<p>To change the host name to &#8220;zipit&#8221; I used the hostname command and also edited /etc/hostname and the /etc/hosts file.</p>
<p>Note: I installed avahi-daemon to enable machines on the local network to find the Zipit on the network using the .local domain. i.e. ping zipit.local will resolve. This is why /etc/hosts contains the information below.</p>
<p>127.0.0.1 localhost.localdomain localhost zipit</p>
<p>I then configured samba by editing  /etc/samba/smb.conf and used pdbedit to add a samba user login.<br/>
# pdbedit -a -u user</p>
<p>I have noted that the EWOC script provided on the z2sidX image has trouble configuring the wireless network when SSID&#8217;s contain spaces. I have fixed this issue and informed Mozzwald.</p>
<p>My work then shifted to my Clock application. I started adding features including a five day weather report, a week day alarm, timer and reminders. Another feature I wanted to add, was the ability to play music from a NFS share. I tested mpg123 and found that mp3&#8217;s played well when they were on the local flash drive but streaming off the NFS share was unworkable due to stuttering.</p>
<p>After adding the MP3 playback feature to Clock, I purchased a <a title="32GB Micro SDHC" href="http://www.play.com/Mobiles/Mobile/4-/14279098/-/Product.html" target="_blank">32GB Sandisk Micro SDHC</a> card to use for Zipit music storage. To my disappointment the card did not work with the Zipit Z2. The boot precess ended with I/O errors.</p>
<p>It seemed my dreams of adding music to the Zipit were in tatters, but then the word &#8220;buffers&#8221; popped into my head. When mpg123 plays back MP3&#8217;s on the Zipit it only uses about 15% of the processor&#8217;s capabilities. The stuttering had to be related to networking because local playback worked, the solution had to be buffering.</p>
<p>I changed the mpg123 command line for Clock to include a 2MB output buffer. Problem solved.</p>
<div id="attachment_1132" style="width: 310px" class="wp-caption aligncenter"><a href="/2012/04/a-brief-history-of-my-zipit-z2/clock-screenshot-2/" rel="attachment wp-att-1132"><img class="size-medium wp-image-1132" src="//canthack.org/uploads/Clock-Screenshot1-300x225.png" alt="" width="300" height="225"/></a><p class="wp-caption-text">Clock&#39;s main window showing five day weather report.</p></div>
<p>The original idea was to open-source Clock under GPL, the problem is that the site I scrape weather information from prohibits scraping. Perhaps the solution is to get information from another source. I am willing to implement this alternative and release the source and binary for Clock. Suggestions are welcome.</p>
<p>My remaining issues include a long reboot time which I believe is related to the error &#8211; libertas failed to find firmware.</p>
<p>On boot up I get the error &#8220;boot wlan0 link not ready&#8221; from addrconf<br/>
and 200 second boot time.</p>
<p>Thanks go to Tristan and the Can&#8217;t Hack group, Mozzwald and all those that contributed to z2sid, Lazarus, FPC, Linux, GNU, etc &#8230;</p>
</div> 
<div class="entry-utility">
<span class="cat-links">
<span class="entry-utility-prep entry-utility-prep-cat-links">Posted in</span> <a href="/category/hardware/" rel="category tag">Hardware</a>, <a href="/category/programming/" rel="category tag">Programming</a>, <a href="/category/software/" rel="category tag">Software</a>, <a href="/category/unix/" rel="category tag">Unix</a> </span>
<span class="meta-sep">|</span>
<span class="comments-link"><a href="/2012/04/a-brief-history-of-my-zipit-z2/#comments">4 Comments</a></span>
</div> 
</div> 
<div id="nav-below" class="navigation">
<div class="nav-previous"><a href="/page/2/index.html"><span class="meta-nav">&larr;</span> Older posts</a></div>
<div class="nav-next"></div>
</div> 
</div> 
</div> 
<div id="primary" class="widget-area" role="complementary">
<ul class="xoxo">
<li id="search-2" class="widget-container widget_search"><form role="search" method="get" id="searchform" class="searchform" action="//canthack.org/wp-content/plugins/really-static/static/">
<div>
<label class="screen-reader-text" for="s">Search for:</label>
<input type="text" value="" name="s" id="s"/>
<input type="submit" id="searchsubmit" value="Search"/>
</div>
</form></li> <li id="recent-posts-2" class="widget-container widget_recent_entries"> <h3 class="widget-title">Recent Posts</h3> <ul>
<li>
<a href="/2014/04/a-new-mod-for-mega-drive-60hz-colour-correction/">A new mod for Mega Drive 60Hz colour correction</a>
</li>
<li>
<a href="/2013/06/barcamp-canterbury-2013-round-up/">BarCamp Canterbury 2013 round-up</a>
</li>
<li>
<a href="/2013/04/pipurr-the-remote-cat-interaction-server/">PiPurr &#8211; The Remote Cat Interaction Server</a>
</li>
<li>
<a href="/2012/09/introducing-the-sin-edds-ym2612-midi-instrument/">Introducing &#8216;The Sin': Edd&#8217;s YM2612 MIDI Instrument</a>
</li>
<li>
<a href="/2012/08/oggcamp-12/">OggCamp 12</a>
</li>
</ul>
</li><li id="recent-comments-2" class="widget-container widget_recent_comments"><h3 class="widget-title">Recent Comments</h3><ul id="recentcomments"><li class="recentcomments"><span class="comment-author-link"><a href='https://balau82.wordpress.com/2011/03/29/programming-arduino-uno-in-pure-c/' rel='external nofollow' class='url'>Programming Arduino Uno in pure C | Freedom Embedded</a></span> on <a href="/2010/12/programming-the-arduino-in-pure-c/#comment-57224/index.html">Programming the Arduino in Pure C.</a></li><li class="recentcomments"><span class="comment-author-link"><a href='http://zeidman.biz/blog/?p=11' rel='external nofollow' class='url'>Building an Arduino Robot using SynthOS | Zeidman Technologies Blog</a></span> on <a href="/2010/12/programming-the-arduino-in-pure-c/#comment-54358/index.html">Programming the Arduino in Pure C.</a></li><li class="recentcomments"><span class="comment-author-link">black</span> on <a href="/2014/04/a-new-mod-for-mega-drive-60hz-colour-correction/#comment-45466/index.html">A new mod for Mega Drive 60Hz colour correction</a></li><li class="recentcomments"><span class="comment-author-link">Cami</span> on <a href="/2014/04/a-new-mod-for-mega-drive-60hz-colour-correction/#comment-44423/index.html">A new mod for Mega Drive 60Hz colour correction</a></li><li class="recentcomments"><span class="comment-author-link"><a href='http://famfest.info' rel='external nofollow' class='url'>Manu</a></span> on <a href="/2012/09/introducing-the-sin-edds-ym2612-midi-instrument/#comment-39117/index.html">Introducing &#8216;The Sin': Edd&#8217;s YM2612 MIDI Instrument</a></li></ul></li><li id="archives-2" class="widget-container widget_archive"><h3 class="widget-title">Archives</h3> <ul>
<li><a href='/2014/04/'>April 2014</a></li>
<li><a href='/2013/06/'>June 2013</a></li>
<li><a href='/2013/04/'>April 2013</a></li>
<li><a href='/2012/09/'>September 2012</a></li>
<li><a href='/2012/08/'>August 2012</a></li>
<li><a href='/2012/06/'>June 2012</a></li>
<li><a href='/2012/05/'>May 2012</a></li>
<li><a href='/2012/04/'>April 2012</a></li>
<li><a href='/2012/03/'>March 2012</a></li>
<li><a href='/2011/12/'>December 2011</a></li>
<li><a href='/2011/11/'>November 2011</a></li>
<li><a href='/2011/10/'>October 2011</a></li>
<li><a href='/2011/09/'>September 2011</a></li>
<li><a href='/2011/07/'>July 2011</a></li>
<li><a href='/2011/06/'>June 2011</a></li>
<li><a href='/2011/05/'>May 2011</a></li>
<li><a href='/2011/04/'>April 2011</a></li>
<li><a href='/2011/03/'>March 2011</a></li>
<li><a href='/2011/02/'>February 2011</a></li>
<li><a href='/2011/01/'>January 2011</a></li>
<li><a href='/2010/12/'>December 2010</a></li>
<li><a href='/2010/11/'>November 2010</a></li>
</ul>
</li><li id="categories-2" class="widget-container widget_categories"><h3 class="widget-title">Categories</h3> <ul>
<li class="cat-item cat-item-7"><a href="/category/hardware/arduino/">Arduino</a>
</li>
<li class="cat-item cat-item-5"><a href="/category/crafting/">Crafting</a>
</li>
<li class="cat-item cat-item-16"><a href="/category/events/">Events</a>
</li>
<li class="cat-item cat-item-9"><a href="/category/gardening/">Gardening</a>
</li>
<li class="cat-item cat-item-6"><a href="/category/hardware/">Hardware</a>
</li>
<li class="cat-item cat-item-4"><a href="/category/programming/">Programming</a>
</li>
<li class="cat-item cat-item-10"><a href="/category/software/">Software</a>
</li>
<li class="cat-item cat-item-1"><a href="/category/uncategorized/">Uncategorized</a>
</li>
<li class="cat-item cat-item-3"><a href="/category/unix/">Unix</a>
</li>
</ul>
</li><li id="meta-2" class="widget-container widget_meta"><h3 class="widget-title">Meta</h3> <ul>
<li><a href="/wp-login.php">Log in</a></li>
<li><a href="/feed/">Entries <abbr title="Really Simple Syndication">RSS</abbr></a></li>
<li><a href="/comments/feed/">Comments <abbr title="Really Simple Syndication">RSS</abbr></a></li>
<li><a href="https://wordpress.org/" title="Powered by WordPress, state-of-the-art semantic personal publishing platform.">WordPress.org</a></li> </ul>
</li> </ul>
</div> 
</div> 
<div id="footer" role="contentinfo">
<div id="colophon">
<div id="site-info">
<a href="/" title="Can&#039;t Hack, Won&#039;t Hack" rel="home">
Can&#039;t Hack, Won&#039;t Hack </a>
</div> 
<div id="site-generator"><a href="http://www.php-welt.net/really-static/">powered by really static WordPress</a></div> 
</div> 
</div> 
</div> 
<div style="display:none">
</div>
<script type='text/javascript' src='//s0.wp.com/wp-content/js/devicepx-jetpack.js?ver=201521'></script>
<script type='text/javascript' src='//s.gravatar.com/js/gprofiles.js?ver=2015Mayaa'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var WPGroHo = {"my_hash":""};
/* ]]> */
</script>
<script type='text/javascript' src='//canthack.org/wp-content/plugins/jetpack/modules/wpgroho.js?ver=4.2.2'></script>
<script type='text/javascript' src='//stats.wp.com/e-201521.js' async defer></script>
<script type='text/javascript'>
	_stq = window._stq || [];
	_stq.push([ 'view', {v:'ext',j:'1:3.5.3',blog:'21421473',post:'0',tz:'0',srv:'canthack.org'} ]);
	_stq.push([ 'clickTrackerInit', '21421473', '0' ]);
</script>
</body>
</html>
